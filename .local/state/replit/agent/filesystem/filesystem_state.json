{"file_contents":{"client/App.tsx":{"content":"import React from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { GestureHandlerRootView } from \"react-native-gesture-handler\";\nimport { KeyboardProvider } from \"react-native-keyboard-controller\";\nimport { SafeAreaProvider } from \"react-native-safe-area-context\";\nimport { StatusBar } from \"expo-status-bar\";\n\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { queryClient } from \"@/lib/query-client\";\n\nimport RootStackNavigator from \"@/navigation/RootStackNavigator\";\nimport { ErrorBoundary } from \"@/components/ErrorBoundary\";\nimport { TabBarProvider } from \"@/contexts/TabBarContext\";\n\nexport default function App() {\n  return (\n    <ErrorBoundary>\n      <QueryClientProvider client={queryClient}>\n        <SafeAreaProvider>\n          <GestureHandlerRootView style={styles.root}>\n            <KeyboardProvider>\n              <TabBarProvider>\n                <NavigationContainer>\n                  <RootStackNavigator />\n                </NavigationContainer>\n              </TabBarProvider>\n              <StatusBar style=\"dark\" />\n            </KeyboardProvider>\n          </GestureHandlerRootView>\n        </SafeAreaProvider>\n      </QueryClientProvider>\n    </ErrorBoundary>\n  );\n}\n\nconst styles = StyleSheet.create({\n  root: {\n    flex: 1,\n  },\n});\n","path":null,"size_bytes":1353,"size_tokens":null},"client/screens/MessagesScreen.tsx":{"content":"import React from \"react\";\nimport {\n  View,\n  ScrollView,\n  StyleSheet,\n  Pressable,\n} from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useBottomTabBarHeight } from \"@react-navigation/bottom-tabs\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { LinearGradient } from \"expo-linear-gradient\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius, Colors } from \"@/constants/theme\";\n\nconst CONVERSATIONS = [\n  {\n    id: \"1\",\n    name: \"Club Havana\",\n    type: \"venue\",\n    lastMessage: \"Confirmado! Te esperamos no sabado.\",\n    time: \"2h\",\n    unread: 1,\n  },\n  {\n    id: \"2\",\n    name: \"Maria Silva\",\n    type: \"user\",\n    lastMessage: \"Vamos juntos pro evento?\",\n    time: \"5h\",\n    unread: 0,\n  },\n  {\n    id: \"3\",\n    name: \"Espaco Nordeste\",\n    type: \"venue\",\n    lastMessage: \"Obrigado pela presenca!\",\n    time: \"1d\",\n    unread: 0,\n  },\n];\n\nfunction Avatar({\n  name,\n  type,\n}: {\n  name: string;\n  type: \"venue\" | \"user\";\n}) {\n  return (\n    <View style={styles.avatar}>\n      <LinearGradient\n        colors={\n          type === \"venue\"\n            ? [Colors.dark.primary, Colors.dark.secondary]\n            : [Colors.dark.tertiary, Colors.dark.secondary]\n        }\n        style={StyleSheet.absoluteFill}\n      />\n      <ThemedText style={styles.avatarText}>\n        {name.charAt(0).toUpperCase()}\n      </ThemedText>\n    </View>\n  );\n}\n\nfunction ConversationItem({\n  conversation,\n}: {\n  conversation: (typeof CONVERSATIONS)[0];\n}) {\n  const { theme } = useTheme();\n\n  return (\n    <Pressable\n      style={({ pressed }) => [\n        styles.conversationItem,\n        { backgroundColor: theme.backgroundDefault },\n        pressed && styles.pressed,\n      ]}\n    >\n      <Avatar name={conversation.name} type={conversation.type as \"venue\" | \"user\"} />\n      <View style={styles.conversationContent}>\n        <View style={styles.conversationHeader}>\n          <ThemedText style={styles.conversationName}>\n            {conversation.name}\n          </ThemedText>\n          <ThemedText style={styles.conversationTime}>\n            {conversation.time}\n          </ThemedText>\n        </View>\n        <View style={styles.conversationFooter}>\n          <ThemedText\n            style={[\n              styles.conversationMessage,\n              conversation.unread > 0 && styles.unreadMessage,\n            ]}\n            numberOfLines={1}\n          >\n            {conversation.lastMessage}\n          </ThemedText>\n          {conversation.unread > 0 ? (\n            <View style={styles.unreadBadge}>\n              <ThemedText style={styles.unreadText}>\n                {conversation.unread}\n              </ThemedText>\n            </View>\n          ) : null}\n        </View>\n      </View>\n    </Pressable>\n  );\n}\n\nfunction EmptyState() {\n  return (\n    <View style={styles.emptyState}>\n      <View style={styles.emptyIcon}>\n        <Feather name=\"message-circle\" size={48} color={Colors.dark.textSecondary} />\n      </View>\n      <ThemedText type=\"h4\" style={styles.emptyTitle}>\n        Nenhuma mensagem\n      </ThemedText>\n      <ThemedText style={styles.emptyText}>\n        Suas conversas com organizadores e outros participantes aparecerao aqui.\n      </ThemedText>\n    </View>\n  );\n}\n\nexport default function MessagesScreen() {\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n  const tabBarHeight = useBottomTabBarHeight();\n  const { theme } = useTheme();\n\n  const hasMessages = CONVERSATIONS.length > 0;\n\n  return (\n    <ScrollView\n      style={[styles.container, { backgroundColor: theme.backgroundRoot }]}\n      contentContainerStyle={{\n        paddingTop: headerHeight + Spacing.lg,\n        paddingBottom: tabBarHeight + Spacing.xl,\n        flexGrow: 1,\n      }}\n      scrollIndicatorInsets={{ bottom: insets.bottom }}\n      showsVerticalScrollIndicator={false}\n    >\n      {hasMessages ? (\n        <View style={styles.conversationList}>\n          {CONVERSATIONS.map((conversation) => (\n            <ConversationItem key={conversation.id} conversation={conversation} />\n          ))}\n        </View>\n      ) : (\n        <EmptyState />\n      )}\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  conversationList: {\n    paddingHorizontal: Spacing.lg,\n    gap: Spacing.md,\n  },\n  conversationItem: {\n    flexDirection: \"row\",\n    padding: Spacing.md,\n    borderRadius: BorderRadius.md,\n    gap: Spacing.md,\n  },\n  avatar: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    overflow: \"hidden\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  avatarText: {\n    fontSize: 20,\n    fontWeight: \"600\",\n    color: \"#FFF\",\n  },\n  conversationContent: {\n    flex: 1,\n    justifyContent: \"center\",\n    gap: Spacing.xs,\n  },\n  conversationHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  conversationName: {\n    fontSize: 16,\n    fontWeight: \"600\",\n  },\n  conversationTime: {\n    fontSize: 12,\n    color: Colors.dark.textSecondary,\n  },\n  conversationFooter: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  conversationMessage: {\n    fontSize: 14,\n    color: Colors.dark.textSecondary,\n    flex: 1,\n  },\n  unreadMessage: {\n    color: Colors.dark.text,\n    fontWeight: \"500\",\n  },\n  unreadBadge: {\n    backgroundColor: Colors.dark.primary,\n    width: 20,\n    height: 20,\n    borderRadius: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginLeft: Spacing.sm,\n  },\n  unreadText: {\n    fontSize: 11,\n    fontWeight: \"600\",\n    color: \"#FFF\",\n  },\n  pressed: {\n    opacity: 0.8,\n    transform: [{ scale: 0.98 }],\n  },\n  emptyState: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingHorizontal: Spacing.xl,\n  },\n  emptyIcon: {\n    width: 100,\n    height: 100,\n    borderRadius: 50,\n    backgroundColor: Colors.dark.backgroundDefault,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginBottom: Spacing.xl,\n  },\n  emptyTitle: {\n    marginBottom: Spacing.sm,\n    textAlign: \"center\",\n  },\n  emptyText: {\n    color: Colors.dark.textSecondary,\n    textAlign: \"center\",\n  },\n});\n","path":null,"size_bytes":6327,"size_tokens":null},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, timestamp, integer, decimal, boolean } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\")\n    .primaryKey()\n    .default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull(),\n  email: text(\"email\").notNull().unique(),\n  bio: text(\"bio\"),\n  avatarInitials: text(\"avatar_initials\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const venues = pgTable(\"venues\", {\n  id: varchar(\"id\")\n    .primaryKey()\n    .default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull(),\n  address: text(\"address\").notNull(),\n  latitude: decimal(\"latitude\", { precision: 10, scale: 8 }),\n  longitude: decimal(\"longitude\", { precision: 11, scale: 8 }),\n  eventsCount: integer(\"events_count\").default(0),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const events = pgTable(\"events\", {\n  id: varchar(\"id\")\n    .primaryKey()\n    .default(sql`gen_random_uuid()`),\n  title: text(\"title\").notNull(),\n  description: text(\"description\"),\n  venueId: varchar(\"venue_id\").references(() => venues.id),\n  venueName: text(\"venue_name\"),\n  address: text(\"address\"),\n  city: text(\"city\"),\n  date: text(\"date\").notNull(),\n  time: text(\"time\").notNull(),\n  endTime: text(\"end_time\"),\n  price: text(\"price\"),\n  attendeesCount: integer(\"attendees_count\").default(0),\n  isFeatured: boolean(\"is_featured\").default(false),\n  latitude: decimal(\"latitude\", { precision: 10, scale: 8 }),\n  longitude: decimal(\"longitude\", { precision: 11, scale: 8 }),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const favorites = pgTable(\"favorites\", {\n  id: varchar(\"id\")\n    .primaryKey()\n    .default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").references(() => users.id).notNull(),\n  eventId: varchar(\"event_id\").references(() => events.id).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const eventAttendees = pgTable(\"event_attendees\", {\n  id: varchar(\"id\")\n    .primaryKey()\n    .default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").references(() => users.id).notNull(),\n  eventId: varchar(\"event_id\").references(() => events.id).notNull(),\n  status: text(\"status\").default(\"confirmed\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).pick({\n  name: true,\n  email: true,\n  bio: true,\n  avatarInitials: true,\n});\n\nexport const insertEventSchema = createInsertSchema(events).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertVenueSchema = createInsertSchema(venues).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertFavoriteSchema = createInsertSchema(favorites).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\nexport type InsertEvent = z.infer<typeof insertEventSchema>;\nexport type Event = typeof events.$inferSelect;\nexport type InsertVenue = z.infer<typeof insertVenueSchema>;\nexport type Venue = typeof venues.$inferSelect;\nexport type InsertFavorite = z.infer<typeof insertFavoriteSchema>;\nexport type Favorite = typeof favorites.$inferSelect;\n","path":null,"size_bytes":3269,"size_tokens":null},"client/screens/EventDetailsScreen.tsx":{"content":"import React, { useState } from \"react\";\nimport {\n  View,\n  ScrollView,\n  StyleSheet,\n  Pressable,\n  ActivityIndicator,\n} from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { useRoute, RouteProp } from \"@react-navigation/native\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius, Colors } from \"@/constants/theme\";\nimport { Button } from \"@/components/Button\";\nimport { DiscoverStackParamList } from \"@/navigation/DiscoverStackNavigator\";\nimport { apiRequest } from \"@/lib/query-client\";\nimport type { Event } from \"@shared/schema\";\n\ntype EventDetailsRouteProp = RouteProp<DiscoverStackParamList, \"EventDetails\">;\n\nconst DEMO_USER_ID = \"demo-user\";\n\nfunction InfoRow({\n  icon,\n  title,\n  subtitle,\n}: {\n  icon: string;\n  title: string;\n  subtitle?: string;\n}) {\n  return (\n    <View style={styles.infoRow}>\n      <View style={styles.infoIcon}>\n        <Feather name={icon as any} size={20} color={Colors.dark.primary} />\n      </View>\n      <View style={styles.infoContent}>\n        <ThemedText style={styles.infoTitle}>{title}</ThemedText>\n        {subtitle ? (\n          <ThemedText style={styles.infoSubtitle}>{subtitle}</ThemedText>\n        ) : null}\n      </View>\n    </View>\n  );\n}\n\nfunction AttendeeAvatar({ name, index }: { name: string; index: number }) {\n  return (\n    <View style={[styles.attendeeAvatar, { marginLeft: index > 0 ? -10 : 0 }]}>\n      <LinearGradient\n        colors={[Colors.dark.secondary, Colors.dark.tertiary]}\n        style={StyleSheet.absoluteFill}\n      />\n      <ThemedText style={styles.attendeeInitial}>\n        {name.charAt(0)}\n      </ThemedText>\n    </View>\n  );\n}\n\nexport default function EventDetailsScreen() {\n  const insets = useSafeAreaInsets();\n  const { theme } = useTheme();\n  const route = useRoute<EventDetailsRouteProp>();\n  const queryClient = useQueryClient();\n  const { eventId } = route.params;\n\n  const { data: event, isLoading } = useQuery<Event>({\n    queryKey: [\"/api/events\", eventId],\n  });\n\n  const { data: favoriteStatus } = useQuery<{ isFavorite: boolean }>({\n    queryKey: [\"/api/users\", DEMO_USER_ID, \"favorites\", eventId, \"check\"],\n    enabled: false,\n  });\n\n  const [isSaved, setIsSaved] = useState(false);\n\n  const toggleFavoriteMutation = useMutation({\n    mutationFn: async () => {\n      if (isSaved) {\n        await apiRequest(\"DELETE\", `/api/users/${DEMO_USER_ID}/favorites/${eventId}`);\n      } else {\n        await apiRequest(\"POST\", `/api/users/${DEMO_USER_ID}/favorites`, { eventId });\n      }\n    },\n    onSuccess: () => {\n      setIsSaved(!isSaved);\n      queryClient.invalidateQueries({ queryKey: [\"/api/users\", DEMO_USER_ID, \"favorites\"] });\n    },\n  });\n\n  const handleSave = () => {\n    toggleFavoriteMutation.mutate();\n  };\n\n  if (isLoading || !event) {\n    return (\n      <View style={[styles.loadingContainer, { backgroundColor: theme.backgroundRoot }]}>\n        <ActivityIndicator size=\"large\" color={Colors.dark.primary} />\n      </View>\n    );\n  }\n\n  const attendeeNames = [\"Maria\", \"Pedro\", \"Ana\", \"Carlos\", \"Julia\"];\n  const totalAttendees = event.attendeesCount || 0;\n\n  return (\n    <View style={[styles.container, { backgroundColor: theme.backgroundRoot }]}>\n      <ScrollView\n        style={styles.scrollView}\n        contentContainerStyle={{\n          paddingBottom: 100 + insets.bottom,\n        }}\n        showsVerticalScrollIndicator={false}\n      >\n        <View style={styles.heroImage}>\n          <LinearGradient\n            colors={[Colors.dark.primary, Colors.dark.secondary]}\n            start={{ x: 0, y: 0 }}\n            end={{ x: 1, y: 1 }}\n            style={StyleSheet.absoluteFill}\n          />\n          <LinearGradient\n            colors={[\"transparent\", \"rgba(0,0,0,0.8)\"]}\n            style={[StyleSheet.absoluteFill, { top: \"40%\" }]}\n          />\n          <View style={styles.heroContent}>\n            <View style={styles.heroOverlay}>\n              <Pressable\n                style={({ pressed }) => [\n                  styles.actionButton,\n                  pressed && styles.pressed,\n                ]}\n                onPress={handleSave}\n              >\n                <Feather\n                  name=\"bookmark\"\n                  size={24}\n                  color={isSaved ? Colors.dark.primary : \"#FFF\"}\n                />\n              </Pressable>\n              <Pressable\n                style={({ pressed }) => [\n                  styles.actionButton,\n                  pressed && styles.pressed,\n                ]}\n              >\n                <Feather name=\"share\" size={24} color=\"#FFF\" />\n              </Pressable>\n            </View>\n            <ThemedText type=\"h2\" style={styles.heroTitle}>\n              {event.title}\n            </ThemedText>\n          </View>\n        </View>\n\n        <View style={styles.content}>\n          <View\n            style={[\n              styles.ticketCard,\n              { backgroundColor: theme.backgroundDefault },\n            ]}\n          >\n            <View style={styles.ticketInfo}>\n              <ThemedText style={styles.ticketLabel}>Ingresso</ThemedText>\n              <ThemedText type=\"h3\" style={styles.ticketPrice}>\n                {event.price || \"Gratis\"}\n              </ThemedText>\n            </View>\n            <Button style={styles.ticketButton} onPress={() => {}}>\n              Comprar\n            </Button>\n          </View>\n\n          <View style={styles.section}>\n            <InfoRow\n              icon=\"calendar\"\n              title={event.date}\n              subtitle={`${event.time}${event.endTime ? ` - ${event.endTime}` : \"\"}`}\n            />\n            <InfoRow\n              icon=\"map-pin\"\n              title={event.venueName || \"Local a definir\"}\n              subtitle={event.address || undefined}\n            />\n          </View>\n\n          {event.description ? (\n            <View style={styles.section}>\n              <ThemedText type=\"h4\" style={styles.sectionTitle}>\n                Sobre o Evento\n              </ThemedText>\n              <ThemedText style={styles.description}>\n                {event.description}\n              </ThemedText>\n            </View>\n          ) : null}\n\n          <View style={styles.section}>\n            <ThemedText type=\"h4\" style={styles.sectionTitle}>\n              Quem vai\n            </ThemedText>\n            <View style={styles.attendeesRow}>\n              <View style={styles.attendeesList}>\n                {attendeeNames.slice(0, 5).map((name, index) => (\n                  <AttendeeAvatar\n                    key={name}\n                    name={name}\n                    index={index}\n                  />\n                ))}\n              </View>\n              <ThemedText style={styles.attendeesCount}>\n                {totalAttendees > 5 ? `+${totalAttendees - 5} confirmados` : `${totalAttendees} confirmados`}\n              </ThemedText>\n            </View>\n          </View>\n\n          <View style={styles.section}>\n            <ThemedText type=\"h4\" style={styles.sectionTitle}>\n              Localizacao\n            </ThemedText>\n            <View\n              style={[\n                styles.mapPlaceholder,\n                { backgroundColor: theme.backgroundDefault },\n              ]}\n            >\n              <Feather name=\"map\" size={32} color={Colors.dark.textSecondary} />\n              <ThemedText style={styles.mapText}>\n                {event.venueName || \"Local a definir\"}\n              </ThemedText>\n              <ThemedText style={styles.mapAddress}>{event.address}</ThemedText>\n            </View>\n          </View>\n        </View>\n      </ScrollView>\n\n      <View\n        style={[\n          styles.floatingCta,\n          {\n            paddingBottom: insets.bottom + Spacing.lg,\n            backgroundColor: theme.backgroundRoot,\n          },\n        ]}\n      >\n        <LinearGradient\n          colors={[\"transparent\", theme.backgroundRoot]}\n          style={styles.floatingGradient}\n        />\n        <Button style={styles.ctaButton} onPress={() => {}}>\n          Garantir Meu Ingresso\n        </Button>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  scrollView: {\n    flex: 1,\n  },\n  heroImage: {\n    height: 280,\n    justifyContent: \"flex-end\",\n  },\n  heroContent: {\n    padding: Spacing.lg,\n  },\n  heroOverlay: {\n    position: \"absolute\",\n    top: Spacing.lg,\n    right: Spacing.lg,\n    flexDirection: \"row\",\n    gap: Spacing.md,\n  },\n  actionButton: {\n    width: 44,\n    height: 44,\n    borderRadius: 22,\n    backgroundColor: \"rgba(255,255,255,0.2)\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  heroTitle: {\n    color: \"#FFF\",\n    marginTop: Spacing.xl,\n  },\n  pressed: {\n    opacity: 0.8,\n  },\n  content: {\n    padding: Spacing.lg,\n  },\n  ticketCard: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.lg,\n    marginBottom: Spacing.xl,\n  },\n  ticketInfo: {\n    gap: Spacing.xs,\n  },\n  ticketLabel: {\n    fontSize: 12,\n    color: Colors.dark.textSecondary,\n  },\n  ticketPrice: {\n    color: Colors.dark.primary,\n  },\n  ticketButton: {\n    paddingHorizontal: Spacing.xl,\n  },\n  section: {\n    marginBottom: Spacing.xl,\n  },\n  sectionTitle: {\n    marginBottom: Spacing.md,\n  },\n  infoRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: Spacing.md,\n  },\n  infoIcon: {\n    width: 44,\n    height: 44,\n    borderRadius: 22,\n    backgroundColor: Colors.dark.primary + \"20\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginRight: Spacing.md,\n  },\n  infoContent: {\n    flex: 1,\n  },\n  infoTitle: {\n    fontSize: 16,\n    fontWeight: \"500\",\n  },\n  infoSubtitle: {\n    fontSize: 14,\n    color: Colors.dark.textSecondary,\n    marginTop: 2,\n  },\n  description: {\n    color: Colors.dark.textSecondary,\n    lineHeight: 24,\n  },\n  attendeesRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  attendeesList: {\n    flexDirection: \"row\",\n  },\n  attendeeAvatar: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    overflow: \"hidden\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderWidth: 2,\n    borderColor: Colors.dark.backgroundRoot,\n  },\n  attendeeInitial: {\n    fontSize: 16,\n    fontWeight: \"600\",\n    color: \"#FFF\",\n  },\n  attendeesCount: {\n    marginLeft: Spacing.md,\n    color: Colors.dark.textSecondary,\n    fontSize: 14,\n  },\n  mapPlaceholder: {\n    height: 150,\n    borderRadius: BorderRadius.md,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  mapText: {\n    fontSize: 16,\n    fontWeight: \"500\",\n    marginTop: Spacing.md,\n  },\n  mapAddress: {\n    fontSize: 14,\n    color: Colors.dark.textSecondary,\n    marginTop: Spacing.xs,\n  },\n  floatingCta: {\n    position: \"absolute\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    paddingHorizontal: Spacing.lg,\n    paddingTop: Spacing.lg,\n  },\n  floatingGradient: {\n    position: \"absolute\",\n    top: -40,\n    left: 0,\n    right: 0,\n    height: 40,\n  },\n  ctaButton: {\n    width: \"100%\",\n  },\n});\n","path":null,"size_bytes":11392,"size_tokens":null},"client/hooks/useColorScheme.web.ts":{"content":"import { useEffect, useState } from \"react\";\nimport { useColorScheme as useRNColorScheme } from \"react-native\";\n\n/**\n * To support static rendering, this value needs to be re-calculated on the client side for web\n */\nexport function useColorScheme() {\n  const [hasHydrated, setHasHydrated] = useState(false);\n\n  useEffect(() => {\n    setHasHydrated(true);\n  }, []);\n\n  const colorScheme = useRNColorScheme();\n\n  if (hasHydrated) {\n    return colorScheme;\n  }\n\n  return \"light\";\n}\n","path":null,"size_bytes":480,"size_tokens":null},"client/hooks/useTheme.ts":{"content":"import { Colors } from \"@/constants/theme\";\nimport { useColorScheme } from \"@/hooks/useColorScheme\";\n\nexport function useTheme() {\n  const colorScheme = useColorScheme();\n  const isDark = colorScheme === \"dark\";\n  const theme = Colors[colorScheme ?? \"light\"];\n\n  return {\n    theme,\n    isDark,\n  };\n}\n","path":null,"size_bytes":302,"size_tokens":null},"scripts/build.js":{"content":"const fs = require(\"fs\");\nconst path = require(\"path\");\nconst { spawn } = require(\"child_process\");\nconst { Readable } = require(\"stream\");\nconst { pipeline } = require(\"stream/promises\");\n\nlet metroProcess = null;\n\nfunction exitWithError(message) {\n  console.error(message);\n  if (metroProcess) {\n    metroProcess.kill();\n  }\n  process.exit(1);\n}\n\nfunction setupSignalHandlers() {\n  const cleanup = () => {\n    if (metroProcess) {\n      console.log(\"Cleaning up Metro process...\");\n      metroProcess.kill();\n    }\n    process.exit(0);\n  };\n\n  process.on(\"SIGINT\", cleanup);\n  process.on(\"SIGTERM\", cleanup);\n  process.on(\"SIGHUP\", cleanup);\n}\n\nfunction getDeploymentUrl() {\n  if (process.env.REPLIT_INTERNAL_APP_DOMAIN) {\n    const url = `https://${process.env.REPLIT_INTERNAL_APP_DOMAIN}`;\n    console.log(\"Using REPLIT_INTERNAL_APP_DOMAIN:\", url);\n    return url;\n  }\n\n  if (process.env.REPLIT_DEV_DOMAIN) {\n    const url = `https://${process.env.REPLIT_DEV_DOMAIN}`;\n    console.log(\"Using REPLIT_DEV_DOMAIN:\", url);\n    return url;\n  }\n\n  console.error(\n    \"ERROR: REPLIT_INTERNAL_APP_DOMAIN and REPLIT_DEV_DOMAIN not set\",\n  );\n  process.exit(1);\n}\n\nfunction prepareDirectories(timestamp) {\n  console.log(\"Preparing build directories...\");\n\n  if (fs.existsSync(\"static-build\")) {\n    fs.rmSync(\"static-build\", { recursive: true });\n  }\n\n  const dirs = [\n    path.join(\"static-build\", timestamp, \"_expo\", \"static\", \"js\", \"ios\"),\n    path.join(\"static-build\", timestamp, \"_expo\", \"static\", \"js\", \"android\"),\n    path.join(\"static-build\", \"ios\"),\n    path.join(\"static-build\", \"android\"),\n  ];\n\n  for (const dir of dirs) {\n    fs.mkdirSync(dir, { recursive: true });\n  }\n\n  console.log(\"Build:\", timestamp);\n}\n\nfunction clearMetroCache() {\n  console.log(\"Clearing Metro cache...\");\n\n  const cacheDirs = [\n    ...fs.globSync(\".metro-cache\"),\n    ...fs.globSync(\"node_modules/.cache/metro\"),\n  ];\n\n  for (const dir of cacheDirs) {\n    fs.rmSync(dir, { recursive: true, force: true });\n  }\n\n  console.log(\"Cache cleared\");\n}\n\nasync function checkMetroHealth() {\n  try {\n    const response = await fetch(\"http://localhost:8081/status\", {\n      signal: AbortSignal.timeout(5000),\n    });\n    return response.ok;\n  } catch {\n    return false;\n  }\n}\n\nasync function startMetro() {\n  const isRunning = await checkMetroHealth();\n  if (isRunning) {\n    console.log(\"Metro already running\");\n    return;\n  }\n\n  console.log(\"Starting Metro...\");\n  metroProcess = spawn(\"npm\", [\"run\", \"expo:start:static:build\"], {\n    stdio: [\"ignore\", \"pipe\", \"pipe\"],\n    detached: false,\n  });\n\n  if (metroProcess.stdout) {\n    metroProcess.stdout.on(\"data\", (data) => {\n      const output = data.toString().trim();\n      if (output) console.log(`[Metro] ${output}`);\n    });\n  }\n  if (metroProcess.stderr) {\n    metroProcess.stderr.on(\"data\", (data) => {\n      const output = data.toString().trim();\n      if (output) console.error(`[Metro Error] ${output}`);\n    });\n  }\n\n  for (let i = 0; i < 60; i++) {\n    await new Promise((resolve) => setTimeout(resolve, 1000));\n\n    const healthy = await checkMetroHealth();\n    if (healthy) {\n      console.log(\"Metro ready\");\n      return;\n    }\n  }\n\n  console.error(\"Metro timeout\");\n  process.exit(1);\n}\n\nasync function downloadFile(url, outputPath) {\n  const controller = new AbortController();\n  const timeoutId = setTimeout(() => controller.abort(), 120_000);\n\n  try {\n    console.log(`Downloading: ${url}`);\n    const response = await fetch(url, { signal: controller.signal });\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n\n    const file = fs.createWriteStream(outputPath);\n    await pipeline(Readable.fromWeb(response.body), file);\n\n    const fileSize = fs.statSync(outputPath).size;\n\n    if (fileSize === 0) {\n      fs.unlinkSync(outputPath);\n      throw new Error(\"Downloaded file is empty\");\n    }\n  } catch (error) {\n    if (fs.existsSync(outputPath)) {\n      fs.unlinkSync(outputPath);\n    }\n\n    if (error.name === \"AbortError\") {\n      throw new Error(`Download timeout after 2m: ${url}`);\n    }\n    throw error;\n  } finally {\n    clearTimeout(timeoutId);\n  }\n}\n\nasync function downloadBundle(platform, timestamp) {\n  const url = new URL(\"http://localhost:8081/client/index.bundle\");\n  url.searchParams.set(\"platform\", platform);\n  url.searchParams.set(\"dev\", \"false\");\n  url.searchParams.set(\"hot\", \"false\");\n  url.searchParams.set(\"lazy\", \"false\");\n  url.searchParams.set(\"minify\", \"true\");\n\n  const output = path.join(\n    \"static-build\",\n    timestamp,\n    \"_expo\",\n    \"static\",\n    \"js\",\n    platform,\n    \"bundle.js\",\n  );\n\n  console.log(`Fetching ${platform} bundle...`);\n  await downloadFile(url.toString(), output);\n  console.log(`${platform} bundle ready`);\n}\n\nasync function downloadManifest(platform) {\n  const controller = new AbortController();\n  const timeoutId = setTimeout(() => controller.abort(), 300_000);\n\n  try {\n    console.log(`Fetching ${platform} manifest...`);\n    const response = await fetch(\"http://localhost:8081/manifest\", {\n      headers: { \"expo-platform\": platform },\n      signal: controller.signal,\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n\n    const manifest = await response.json();\n    console.log(`${platform} manifest ready`);\n    return manifest;\n  } catch (error) {\n    if (error.name === \"AbortError\") {\n      throw new Error(\n        `Manifest download timeout after 5m for platform: ${platform}`,\n      );\n    }\n    throw error;\n  } finally {\n    clearTimeout(timeoutId);\n  }\n}\n\nasync function downloadBundlesAndManifests(timestamp) {\n  console.log(\"Downloading bundles and manifests...\");\n  console.log(\"This may take several minutes for production builds...\");\n\n  try {\n    const results = await Promise.allSettled([\n      downloadBundle(\"ios\", timestamp),\n      downloadBundle(\"android\", timestamp),\n      downloadManifest(\"ios\"),\n      downloadManifest(\"android\"),\n    ]);\n\n    const failures = results\n      .map((result, index) => ({ result, index }))\n      .filter(({ result }) => result.status === \"rejected\");\n\n    if (failures.length > 0) {\n      const errorMessages = failures.map(({ result, index }) => {\n        const names = [\n          \"iOS bundle\",\n          \"Android bundle\",\n          \"iOS manifest\",\n          \"Android manifest\",\n        ];\n        return `  - ${names[index]}: ${result.reason?.message || result.reason}`;\n      });\n\n      exitWithError(`Download failed:\\n${errorMessages.join(\"\\n\")}`);\n    }\n\n    const iosManifest =\n      results[2].status === \"fulfilled\" ? results[2].value : null;\n    const androidManifest =\n      results[3].status === \"fulfilled\" ? results[3].value : null;\n\n    console.log(\"All downloads completed successfully\");\n    return { ios: iosManifest, android: androidManifest };\n  } catch (error) {\n    exitWithError(`Unexpected download error: ${error.message}`);\n  }\n}\n\nfunction extractAssets(timestamp) {\n  const bundles = {\n    ios: fs.readFileSync(\n      path.join(\n        \"static-build\",\n        timestamp,\n        \"_expo\",\n        \"static\",\n        \"js\",\n        \"ios\",\n        \"bundle.js\",\n      ),\n      \"utf-8\",\n    ),\n    android: fs.readFileSync(\n      path.join(\n        \"static-build\",\n        timestamp,\n        \"_expo\",\n        \"static\",\n        \"js\",\n        \"android\",\n        \"bundle.js\",\n      ),\n      \"utf-8\",\n    ),\n  };\n\n  const assetsMap = new Map();\n  const assetPattern =\n    /httpServerLocation:\"([^\"]+)\"[^}]*hash:\"([^\"]+)\"[^}]*name:\"([^\"]+)\"[^}]*type:\"([^\"]+)\"/g;\n\n  const extractFromBundle = (bundle, platform) => {\n    for (const match of bundle.matchAll(assetPattern)) {\n      const originalPath = match[1];\n      const filename = match[3] + \".\" + match[4];\n\n      const tempUrl = new URL(`http://localhost:8081${originalPath}`);\n      const unstablePath = tempUrl.searchParams.get(\"unstable_path\");\n\n      if (!unstablePath) {\n        throw new Error(`Asset missing unstable_path: ${originalPath}`);\n      }\n\n      const decodedPath = decodeURIComponent(unstablePath);\n      const key = path.posix.join(decodedPath, filename);\n\n      if (!assetsMap.has(key)) {\n        const asset = {\n          url: path.posix.join(\"/\", decodedPath, filename),\n          originalPath: originalPath,\n          filename: filename,\n          relativePath: decodedPath,\n          hash: match[2],\n          platforms: new Set(),\n        };\n\n        assetsMap.set(key, asset);\n      }\n      assetsMap.get(key).platforms.add(platform);\n    }\n  };\n\n  extractFromBundle(bundles.ios, \"ios\");\n  extractFromBundle(bundles.android, \"android\");\n\n  return Array.from(assetsMap.values());\n}\n\nasync function downloadAssets(assets, timestamp) {\n  if (assets.length === 0) {\n    return 0;\n  }\n\n  console.log(\"Downloading assets...\");\n  let successCount = 0;\n  const failures = [];\n\n  const downloadPromises = assets.map(async (asset) => {\n    const platform = Array.from(asset.platforms)[0];\n\n    const tempUrl = new URL(`http://localhost:8081${asset.originalPath}`);\n    const unstablePath = tempUrl.searchParams.get(\"unstable_path\");\n\n    if (!unstablePath) {\n      throw new Error(`Asset missing unstable_path: ${asset.originalPath}`);\n    }\n\n    const decodedPath = decodeURIComponent(unstablePath);\n    const metroUrl = new URL(\n      `http://localhost:8081${path.posix.join(\"/assets\", decodedPath, asset.filename)}`,\n    );\n    metroUrl.searchParams.set(\"platform\", platform);\n    metroUrl.searchParams.set(\"hash\", asset.hash);\n\n    const outputDir = path.join(\n      \"static-build\",\n      timestamp,\n      \"_expo\",\n      \"static\",\n      \"js\",\n      asset.relativePath,\n    );\n    fs.mkdirSync(outputDir, { recursive: true });\n    const output = path.join(outputDir, asset.filename);\n\n    try {\n      await downloadFile(metroUrl.toString(), output);\n      successCount++;\n    } catch (error) {\n      failures.push({\n        filename: asset.filename,\n        error: error.message,\n        url: metroUrl.toString(),\n      });\n    }\n  });\n\n  await Promise.all(downloadPromises);\n\n  if (failures.length > 0) {\n    const errorMsg =\n      `Failed to download ${failures.length} asset(s):\\n` +\n      failures\n        .map((f) => `  - ${f.filename}: ${f.error} (${f.url})`)\n        .join(\"\\n\");\n    exitWithError(errorMsg);\n  }\n\n  console.log(`Downloaded ${successCount} assets`);\n  return successCount;\n}\n\nfunction updateBundleUrls(timestamp, baseUrl) {\n  const updateForPlatform = (platform) => {\n    const bundlePath = path.join(\n      \"static-build\",\n      timestamp,\n      \"_expo\",\n      \"static\",\n      \"js\",\n      platform,\n      \"bundle.js\",\n    );\n    let bundle = fs.readFileSync(bundlePath, \"utf-8\");\n\n    bundle = bundle.replace(\n      /httpServerLocation:\"(\\/[^\"]+)\"/g,\n      (_match, capturedPath) => {\n        const tempUrl = new URL(`http://localhost:8081${capturedPath}`);\n        const unstablePath = tempUrl.searchParams.get(\"unstable_path\");\n\n        if (!unstablePath) {\n          throw new Error(\n            `Asset missing unstable_path in bundle: ${capturedPath}`,\n          );\n        }\n\n        const decodedPath = decodeURIComponent(unstablePath);\n        return `httpServerLocation:\"${baseUrl}/${timestamp}/_expo/static/js/${decodedPath}\"`;\n      },\n    );\n\n    fs.writeFileSync(bundlePath, bundle);\n  };\n\n  updateForPlatform(\"ios\");\n  updateForPlatform(\"android\");\n  console.log(\"Updated bundle URLs\");\n}\n\nfunction updateManifests(manifests, timestamp, baseUrl, assetsByHash) {\n  const updateForPlatform = (platform, manifest) => {\n    if (!manifest.launchAsset || !manifest.extra) {\n      exitWithError(`Malformed manifest for ${platform}`);\n    }\n\n    manifest.launchAsset.url = `${baseUrl}/${timestamp}/_expo/static/js/${platform}/bundle.js`;\n    manifest.launchAsset.key = `bundle-${timestamp}`;\n    manifest.createdAt = new Date(\n      Number(timestamp.split(\"-\")[0]),\n    ).toISOString();\n    manifest.extra.expoClient.hostUri =\n      baseUrl.replace(\"https://\", \"\") + \"/\" + platform;\n    manifest.extra.expoGo.debuggerHost =\n      baseUrl.replace(\"https://\", \"\") + \"/\" + platform;\n    manifest.extra.expoGo.packagerOpts.dev = false;\n\n    if (manifest.assets && manifest.assets.length > 0) {\n      manifest.assets.forEach((asset) => {\n        if (!asset.url) return;\n\n        const hash = asset.hash;\n        if (!hash) return;\n\n        const assetInfo = assetsByHash.get(hash);\n        if (!assetInfo) return;\n\n        asset.url = `${baseUrl}/${timestamp}/_expo/static/js/${assetInfo.relativePath}/${assetInfo.filename}`;\n      });\n    }\n\n    fs.writeFileSync(\n      path.join(\"static-build\", platform, \"manifest.json\"),\n      JSON.stringify(manifest, null, 2),\n    );\n  };\n\n  updateForPlatform(\"ios\", manifests.ios);\n  updateForPlatform(\"android\", manifests.android);\n  console.log(\"Manifests updated\");\n}\n\nasync function main() {\n  console.log(\"Building static Expo Go deployment...\");\n\n  setupSignalHandlers();\n\n  const baseUrl = getDeploymentUrl();\n  const timestamp = `${Date.now()}-${process.pid}`;\n\n  prepareDirectories(timestamp);\n  clearMetroCache();\n\n  await startMetro();\n\n  const downloadTimeout = 300000;\n  const downloadPromise = downloadBundlesAndManifests(timestamp);\n  const timeoutPromise = new Promise((_, reject) => {\n    setTimeout(() => {\n      reject(\n        new Error(\n          `Overall download timeout after ${downloadTimeout / 1000} seconds. ` +\n            \"Metro may be struggling to generate bundles. Check Metro logs above.\",\n        ),\n      );\n    }, downloadTimeout);\n  });\n\n  const manifests = await Promise.race([downloadPromise, timeoutPromise]);\n\n  console.log(\"Processing assets...\");\n  const assets = extractAssets(timestamp);\n  console.log(\"Found\", assets.length, \"unique asset(s)\");\n\n  const assetsByHash = new Map();\n  for (const asset of assets) {\n    assetsByHash.set(asset.hash, {\n      relativePath: asset.relativePath,\n      filename: asset.filename,\n    });\n  }\n\n  const assetCount = await downloadAssets(assets, timestamp);\n\n  if (assetCount > 0) {\n    updateBundleUrls(timestamp, baseUrl);\n  }\n\n  console.log(\"Updating manifests and creating landing page...\");\n  updateManifests(manifests, timestamp, baseUrl, assetsByHash);\n\n  console.log(\"Build complete! Deploy to:\", baseUrl);\n\n  if (metroProcess) {\n    metroProcess.kill();\n  }\n  process.exit(0);\n}\n\nmain().catch((error) => {\n  console.error(\"Build failed:\", error.message);\n  if (metroProcess) {\n    metroProcess.kill();\n  }\n  process.exit(1);\n});\n","path":null,"size_bytes":14413,"size_tokens":null},"client/components/Card.tsx":{"content":"import React from \"react\";\nimport { StyleSheet, Pressable, ViewStyle } from \"react-native\";\nimport Animated, {\n  useAnimatedStyle,\n  useSharedValue,\n  withSpring,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\n\ninterface CardProps {\n  elevation?: number;\n  title?: string;\n  description?: string;\n  children?: React.ReactNode;\n  onPress?: () => void;\n  style?: ViewStyle;\n}\n\nconst springConfig: WithSpringConfig = {\n  damping: 15,\n  mass: 0.3,\n  stiffness: 150,\n  overshootClamping: true,\n  energyThreshold: 0.001,\n};\n\nconst getBackgroundColorForElevation = (\n  elevation: number,\n  theme: any,\n): string => {\n  switch (elevation) {\n    case 1:\n      return theme.backgroundDefault;\n    case 2:\n      return theme.backgroundSecondary;\n    case 3:\n      return theme.backgroundTertiary;\n    default:\n      return theme.backgroundRoot;\n  }\n};\n\nconst AnimatedPressable = Animated.createAnimatedComponent(Pressable);\n\nexport function Card({\n  elevation = 1,\n  title,\n  description,\n  children,\n  onPress,\n  style,\n}: CardProps) {\n  const { theme } = useTheme();\n  const scale = useSharedValue(1);\n\n  const cardBackgroundColor = getBackgroundColorForElevation(elevation, theme);\n\n  const animatedStyle = useAnimatedStyle(() => ({\n    transform: [{ scale: scale.value }],\n  }));\n\n  const handlePressIn = () => {\n    scale.value = withSpring(0.98, springConfig);\n  };\n\n  const handlePressOut = () => {\n    scale.value = withSpring(1, springConfig);\n  };\n\n  return (\n    <AnimatedPressable\n      onPress={onPress}\n      onPressIn={handlePressIn}\n      onPressOut={handlePressOut}\n      style={[\n        styles.card,\n        {\n          backgroundColor: cardBackgroundColor,\n        },\n        animatedStyle,\n        style,\n      ]}\n    >\n      {title ? (\n        <ThemedText type=\"h4\" style={styles.cardTitle}>\n          {title}\n        </ThemedText>\n      ) : null}\n      {description ? (\n        <ThemedText type=\"small\" style={styles.cardDescription}>\n          {description}\n        </ThemedText>\n      ) : null}\n      {children}\n    </AnimatedPressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  card: {\n    padding: Spacing.xl,\n    borderRadius: BorderRadius[\"2xl\"],\n  },\n  cardTitle: {\n    marginBottom: Spacing.sm,\n  },\n  cardDescription: {\n    opacity: 0.7,\n  },\n});\n","path":null,"size_bytes":2437,"size_tokens":null},"client/components/ThemedView.tsx":{"content":"import { View, type ViewProps } from \"react-native\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\n\nexport type ThemedViewProps = ViewProps & {\n  lightColor?: string;\n  darkColor?: string;\n};\n\nexport function ThemedView({\n  style,\n  lightColor,\n  darkColor,\n  ...otherProps\n}: ThemedViewProps) {\n  const { theme, isDark } = useTheme();\n\n  const backgroundColor =\n    isDark && darkColor\n      ? darkColor\n      : !isDark && lightColor\n        ? lightColor\n        : theme.backgroundRoot;\n\n  return <View style={[{ backgroundColor }, style]} {...otherProps} />;\n}\n","path":null,"size_bytes":563,"size_tokens":null},"client/navigation/MainTabNavigator.tsx":{"content":"import React from \"react\";\nimport { View, StyleSheet, Pressable, Platform } from \"react-native\";\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\nimport { BottomTabBarProps } from \"@react-navigation/bottom-tabs\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { BlurView } from \"expo-blur\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport Animated, {\n  useAnimatedStyle,\n  withSpring,\n  interpolate,\n  Extrapolation,\n} from \"react-native-reanimated\";\n\nimport DiscoverStackNavigator from \"@/navigation/DiscoverStackNavigator\";\nimport MyEventsStackNavigator from \"@/navigation/MyEventsStackNavigator\";\nimport MessagesStackNavigator from \"@/navigation/MessagesStackNavigator\";\nimport ProfileStackNavigator from \"@/navigation/ProfileStackNavigator\";\nimport { useTabBar } from \"@/contexts/TabBarContext\";\nimport { Colors, Spacing, BorderRadius } from \"@/constants/theme\";\n\nexport type MainTabParamList = {\n  DiscoverTab: undefined;\n  MyEventsTab: undefined;\n  MessagesTab: undefined;\n  ProfileTab: undefined;\n};\n\nconst Tab = createBottomTabNavigator<MainTabParamList>();\n\nconst TAB_BAR_HEIGHT = 60;\n\nfunction AnimatedTabBar({ state, descriptors, navigation }: BottomTabBarProps) {\n  const insets = useSafeAreaInsets();\n  const { isTabBarVisible } = useTabBar();\n\n  const animatedStyle = useAnimatedStyle(() => {\n    const translateY = interpolate(\n      isTabBarVisible.value ? 1 : 0,\n      [0, 1],\n      [TAB_BAR_HEIGHT + insets.bottom + 20, 0],\n      Extrapolation.CLAMP\n    );\n\n    return {\n      transform: [\n        {\n          translateY: withSpring(translateY, {\n            damping: 20,\n            stiffness: 150,\n            mass: 0.5,\n          }),\n        },\n      ],\n    };\n  });\n\n  const tabBarStyle = {\n    paddingBottom: insets.bottom,\n    height: TAB_BAR_HEIGHT + insets.bottom,\n  };\n\n  return (\n    <Animated.View style={[styles.tabBarContainer, tabBarStyle, animatedStyle]}>\n      {Platform.OS === \"ios\" ? (\n        <BlurView\n          intensity={80}\n          tint=\"light\"\n          style={StyleSheet.absoluteFill}\n        />\n      ) : (\n        <View style={[StyleSheet.absoluteFill, styles.androidBackground]} />\n      )}\n      <View style={styles.tabBarContent}>\n        {state.routes.map((route, index) => {\n          const { options } = descriptors[route.key];\n          const isFocused = state.index === index;\n\n          const onPress = () => {\n            const event = navigation.emit({\n              type: \"tabPress\",\n              target: route.key,\n              canPreventDefault: true,\n            });\n\n            if (!isFocused && !event.defaultPrevented) {\n              navigation.navigate(route.name);\n            }\n          };\n\n          const onLongPress = () => {\n            navigation.emit({\n              type: \"tabLongPress\",\n              target: route.key,\n            });\n          };\n\n          let iconName: keyof typeof Feather.glyphMap = \"home\";\n          switch (route.name) {\n            case \"DiscoverTab\":\n              iconName = \"home\";\n              break;\n            case \"MyEventsTab\":\n              iconName = \"compass\";\n              break;\n            case \"MessagesTab\":\n              iconName = \"heart\";\n              break;\n            case \"ProfileTab\":\n              iconName = \"user\";\n              break;\n          }\n\n          const color = isFocused\n            ? Colors.dark.primary\n            : Colors.dark.textSecondary;\n\n          return (\n            <Pressable\n              key={route.key}\n              accessibilityRole=\"button\"\n              accessibilityState={isFocused ? { selected: true } : {}}\n              accessibilityLabel={options.tabBarAccessibilityLabel}\n              onPress={onPress}\n              onLongPress={onLongPress}\n              style={styles.tabButton}\n              hitSlop={8}\n            >\n              <View style={styles.iconContainer}>\n                <Feather name={iconName} size={24} color={color} />\n              </View>\n            </Pressable>\n          );\n        })}\n      </View>\n    </Animated.View>\n  );\n}\n\nexport default function MainTabNavigator() {\n  return (\n    <View style={styles.container}>\n      <Tab.Navigator\n        initialRouteName=\"DiscoverTab\"\n        tabBar={(props) => <AnimatedTabBar {...props} />}\n        screenOptions={{\n          headerShown: false,\n        }}\n      >\n        <Tab.Screen\n          name=\"DiscoverTab\"\n          component={DiscoverStackNavigator}\n          options={{\n            title: \"Descobrir\",\n          }}\n        />\n        <Tab.Screen\n          name=\"MyEventsTab\"\n          component={MyEventsStackNavigator}\n          options={{\n            title: \"Eventos\",\n          }}\n        />\n        <Tab.Screen\n          name=\"MessagesTab\"\n          component={MessagesStackNavigator}\n          options={{\n            title: \"Mensagens\",\n          }}\n        />\n        <Tab.Screen\n          name=\"ProfileTab\"\n          component={ProfileStackNavigator}\n          options={{\n            title: \"Perfil\",\n          }}\n        />\n      </Tab.Navigator>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  tabBarContainer: {\n    position: \"absolute\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    borderTopWidth: StyleSheet.hairlineWidth,\n    borderTopColor: \"rgba(0,0,0,0.1)\",\n    overflow: \"hidden\",\n  },\n  androidBackground: {\n    backgroundColor: Colors.dark.backgroundRoot,\n  },\n  tabBarContent: {\n    flex: 1,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-around\",\n    paddingHorizontal: Spacing.lg,\n  },\n  tabButton: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingVertical: Spacing.sm,\n  },\n  iconContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n});\n","path":null,"size_bytes":5809,"size_tokens":null},"client/navigation/MyEventsStackNavigator.tsx":{"content":"import React from \"react\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport MyEventsScreen from \"@/screens/MyEventsScreen\";\nimport EventDetailsScreen from \"@/screens/EventDetailsScreen\";\nimport { useScreenOptions } from \"@/hooks/useScreenOptions\";\n\nexport type MyEventsStackParamList = {\n  MyEvents: undefined;\n  EventDetails: { eventId: string };\n};\n\nconst Stack = createNativeStackNavigator<MyEventsStackParamList>();\n\nexport default function MyEventsStackNavigator() {\n  const screenOptions = useScreenOptions();\n\n  return (\n    <Stack.Navigator screenOptions={screenOptions}>\n      <Stack.Screen\n        name=\"MyEvents\"\n        component={MyEventsScreen}\n        options={{\n          headerTitle: \"Meus Eventos\",\n        }}\n      />\n      <Stack.Screen\n        name=\"EventDetails\"\n        component={EventDetailsScreen}\n        options={{\n          headerTitle: \"\",\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","path":null,"size_bytes":955,"size_tokens":null},"client/constants/theme.ts":{"content":"import { Platform } from \"react-native\";\n\nexport const Colors = {\n  light: {\n    text: \"#1F2937\",\n    textSecondary: \"#6B7280\",\n    buttonText: \"#FFFFFF\",\n    tabIconDefault: \"#9CA3AF\",\n    tabIconSelected: \"#C41E3A\",\n    link: \"#C41E3A\",\n    primary: \"#C41E3A\",\n    secondary: \"#EC4899\",\n    tertiary: \"#F97316\",\n    success: \"#10B981\",\n    error: \"#EF4444\",\n    backgroundRoot: \"#FFFFFF\",\n    backgroundDefault: \"#F9FAFB\",\n    backgroundSecondary: \"#F3F4F6\",\n    backgroundTertiary: \"#E5E7EB\",\n    wizardBackground: \"#EDEDED\",\n    brand: \"#C41E3A\",\n  },\n  dark: {\n    text: \"#1F2937\",\n    textSecondary: \"#6B7280\",\n    buttonText: \"#FFFFFF\",\n    tabIconDefault: \"#9CA3AF\",\n    tabIconSelected: \"#C41E3A\",\n    link: \"#C41E3A\",\n    primary: \"#C41E3A\",\n    secondary: \"#EC4899\",\n    tertiary: \"#F97316\",\n    success: \"#10B981\",\n    error: \"#EF4444\",\n    backgroundRoot: \"#FFFFFF\",\n    backgroundDefault: \"#F9FAFB\",\n    backgroundSecondary: \"#F3F4F6\",\n    backgroundTertiary: \"#E5E7EB\",\n    wizardBackground: \"#EDEDED\",\n    brand: \"#C41E3A\",\n  },\n};\n\nexport const Spacing = {\n  xs: 4,\n  sm: 8,\n  md: 12,\n  lg: 16,\n  xl: 24,\n  \"2xl\": 32,\n  \"3xl\": 40,\n  \"4xl\": 48,\n  \"5xl\": 56,\n  inputHeight: 48,\n  buttonHeight: 52,\n  fabSize: 56,\n};\n\nexport const BorderRadius = {\n  xs: 8,\n  sm: 12,\n  md: 16,\n  lg: 20,\n  xl: 24,\n  \"2xl\": 32,\n  \"3xl\": 40,\n  full: 9999,\n};\n\nexport const Typography = {\n  h1: {\n    fontSize: 32,\n    fontWeight: \"700\" as const,\n  },\n  h2: {\n    fontSize: 28,\n    fontWeight: \"700\" as const,\n  },\n  h3: {\n    fontSize: 24,\n    fontWeight: \"600\" as const,\n  },\n  h4: {\n    fontSize: 20,\n    fontWeight: \"600\" as const,\n  },\n  body: {\n    fontSize: 16,\n    fontWeight: \"400\" as const,\n  },\n  small: {\n    fontSize: 14,\n    fontWeight: \"400\" as const,\n  },\n  caption: {\n    fontSize: 12,\n    fontWeight: \"400\" as const,\n  },\n  link: {\n    fontSize: 16,\n    fontWeight: \"400\" as const,\n  },\n};\n\nexport const Fonts = Platform.select({\n  ios: {\n    sans: \"system-ui\",\n    serif: \"Didot\",\n    rounded: \"ui-rounded\",\n    mono: \"ui-monospace\",\n  },\n  default: {\n    sans: \"normal\",\n    serif: \"serif\",\n    rounded: \"normal\",\n    mono: \"monospace\",\n  },\n  web: {\n    sans: \"system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif\",\n    serif: \"'Didot', 'Bodoni MT', 'Playfair Display', Georgia, 'Times New Roman', serif\",\n    rounded:\n      \"'SF Pro Rounded', 'Hiragino Maru Gothic ProN', Meiryo, 'MS PGothic', sans-serif\",\n    mono: \"SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace\",\n  },\n});\n","path":null,"size_bytes":2572,"size_tokens":null},"client/index.js":{"content":"import { registerRootComponent } from \"expo\";\n\nimport App from \"@/App\";\n\nregisterRootComponent(App);\n","path":null,"size_bytes":101,"size_tokens":null},"client/components/KeyboardAwareScrollViewCompat.tsx":{"content":"import { Platform, ScrollView, ScrollViewProps } from \"react-native\";\nimport {\n  KeyboardAwareScrollView,\n  KeyboardAwareScrollViewProps,\n} from \"react-native-keyboard-controller\";\n\ntype Props = KeyboardAwareScrollViewProps & ScrollViewProps;\n\n/**\n * KeyboardAwareScrollView that falls back to ScrollView on web.\n * Use this for any screen containing text inputs.\n */\nexport function KeyboardAwareScrollViewCompat({\n  children,\n  keyboardShouldPersistTaps = \"handled\",\n  ...props\n}: Props) {\n  if (Platform.OS === \"web\") {\n    return (\n      <ScrollView\n        keyboardShouldPersistTaps={keyboardShouldPersistTaps}\n        {...props}\n      >\n        {children}\n      </ScrollView>\n    );\n  }\n\n  return (\n    <KeyboardAwareScrollView\n      keyboardShouldPersistTaps={keyboardShouldPersistTaps}\n      {...props}\n    >\n      {children}\n    </KeyboardAwareScrollView>\n  );\n}\n","path":null,"size_bytes":872,"size_tokens":null},"eslint.config.js":{"content":"// https://docs.expo.dev/guides/using-eslint/\nconst { defineConfig } = require(\"eslint/config\");\nconst expoConfig = require(\"eslint-config-expo/flat\");\nconst eslintPluginPrettierRecommended = require(\"eslint-plugin-prettier/recommended\");\n\nmodule.exports = defineConfig([\n  expoConfig,\n  eslintPluginPrettierRecommended,\n  {\n    ignores: [\"dist/*\"],\n  },\n]);\n","path":null,"size_bytes":359,"size_tokens":null},"client/hooks/useColorScheme.ts":{"content":"export { useColorScheme } from \"react-native\";\n","path":null,"size_bytes":47,"size_tokens":null},"client/navigation/DiscoverStackNavigator.tsx":{"content":"import React from \"react\";\nimport { Pressable, StyleSheet, Text } from \"react-native\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport type { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\nimport DiscoverScreen from \"@/screens/DiscoverScreen\";\nimport EventDetailsScreen from \"@/screens/EventDetailsScreen\";\nimport SignUpScreen from \"@/screens/SignUpScreen\";\nimport SearchResultsScreen from \"@/screens/SearchResultsScreen\";\nimport { useScreenOptions } from \"@/hooks/useScreenOptions\";\nimport { Colors, Spacing } from \"@/constants/theme\";\n\nexport type DiscoverStackParamList = {\n  Discover: undefined;\n  EventDetails: { eventId: string };\n  SignUp: undefined;\n  SearchResults: { city?: string; date?: string; query?: string };\n};\n\nconst Stack = createNativeStackNavigator<DiscoverStackParamList>();\n\nfunction SignUpButton() {\n  const navigation = useNavigation<NativeStackNavigationProp<DiscoverStackParamList>>();\n  \n  const handlePress = () => {\n    navigation.navigate(\"SignUp\");\n  };\n\n  return (\n    <Pressable style={headerStyles.authButton} hitSlop={8} onPress={handlePress}>\n      <Text style={headerStyles.authButtonText}>Sign Up</Text>\n    </Pressable>\n  );\n}\n\nfunction LogInButton() {\n  return (\n    <Pressable style={headerStyles.authButton} hitSlop={8}>\n      <Text style={headerStyles.authButtonText}>Log In</Text>\n    </Pressable>\n  );\n}\n\nconst headerStyles = StyleSheet.create({\n  authButton: {\n    paddingHorizontal: Spacing.sm,\n    paddingVertical: Spacing.xs,\n  },\n  authButtonText: {\n    fontSize: 12,\n    fontWeight: \"600\",\n    color: Colors.dark.brand,\n    textTransform: \"uppercase\",\n    letterSpacing: 0.5,\n  },\n});\n\nexport default function DiscoverStackNavigator() {\n  const screenOptions = useScreenOptions({ transparent: false });\n\n  return (\n    <Stack.Navigator screenOptions={screenOptions}>\n      <Stack.Screen\n        name=\"Discover\"\n        component={DiscoverScreen}\n        options={{\n          headerShown: false,\n        }}\n      />\n      <Stack.Screen\n        name=\"EventDetails\"\n        component={EventDetailsScreen}\n        options={{\n          headerTitle: \"\",\n          headerTransparent: true,\n        }}\n      />\n      <Stack.Screen\n        name=\"SignUp\"\n        component={SignUpScreen}\n        options={{\n          headerShown: false,\n          presentation: \"modal\",\n        }}\n      />\n      <Stack.Screen\n        name=\"SearchResults\"\n        component={SearchResultsScreen}\n        options={{\n          headerTitle: \"Buscar\",\n          headerStyle: {\n            backgroundColor: Colors.dark.backgroundRoot,\n          },\n          headerShadowVisible: false,\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","path":null,"size_bytes":2770,"size_tokens":null},"server/storage.ts":{"content":"import { eq, ilike, or, and, desc } from \"drizzle-orm\";\nimport { db } from \"./db\";\nimport {\n  users,\n  events,\n  venues,\n  favorites,\n  eventAttendees,\n  type User,\n  type InsertUser,\n  type Event,\n  type InsertEvent,\n  type Venue,\n  type InsertVenue,\n  type Favorite,\n  type InsertFavorite,\n} from \"@shared/schema\";\n\nexport interface IStorage {\n  getUser(id: string): Promise<User | undefined>;\n  getUserByEmail(email: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  updateUser(id: string, user: Partial<InsertUser>): Promise<User | undefined>;\n  \n  getEvents(): Promise<Event[]>;\n  getEvent(id: string): Promise<Event | undefined>;\n  getFeaturedEvents(): Promise<Event[]>;\n  searchEvents(query: string): Promise<Event[]>;\n  advancedSearchEvents(filters: { city?: string; date?: string; query?: string }): Promise<Event[]>;\n  createEvent(event: InsertEvent): Promise<Event>;\n  \n  getVenues(): Promise<Venue[]>;\n  getVenue(id: string): Promise<Venue | undefined>;\n  createVenue(venue: InsertVenue): Promise<Venue>;\n  \n  getFavorites(userId: string): Promise<Favorite[]>;\n  getFavoriteEvents(userId: string): Promise<Event[]>;\n  addFavorite(favorite: InsertFavorite): Promise<Favorite>;\n  removeFavorite(userId: string, eventId: string): Promise<void>;\n  isFavorite(userId: string, eventId: string): Promise<boolean>;\n  \n  getUserEvents(userId: string): Promise<Event[]>;\n  attendEvent(userId: string, eventId: string): Promise<void>;\n  getNearbyEvents(lat: number, lng: number, radiusKm: number): Promise<(Event & { distance: number })[]>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  async getUser(id: string): Promise<User | undefined> {\n    const result = await db.select().from(users).where(eq(users.id, id));\n    return result[0];\n  }\n\n  async getUserByEmail(email: string): Promise<User | undefined> {\n    const result = await db.select().from(users).where(eq(users.email, email));\n    return result[0];\n  }\n\n  async createUser(user: InsertUser): Promise<User> {\n    const result = await db.insert(users).values(user).returning();\n    return result[0];\n  }\n\n  async updateUser(id: string, userData: Partial<InsertUser>): Promise<User | undefined> {\n    const result = await db.update(users).set(userData).where(eq(users.id, id)).returning();\n    return result[0];\n  }\n\n  async getEvents(): Promise<Event[]> {\n    return db.select().from(events).orderBy(desc(events.createdAt));\n  }\n\n  async getEvent(id: string): Promise<Event | undefined> {\n    const result = await db.select().from(events).where(eq(events.id, id));\n    return result[0];\n  }\n\n  async getFeaturedEvents(): Promise<Event[]> {\n    return db.select().from(events).where(eq(events.isFeatured, true));\n  }\n\n  async searchEvents(query: string): Promise<Event[]> {\n    return db.select().from(events).where(\n      or(\n        ilike(events.title, `%${query}%`),\n        ilike(events.venueName, `%${query}%`),\n        ilike(events.description, `%${query}%`)\n      )\n    );\n  }\n\n  async advancedSearchEvents(filters: {\n    city?: string;\n    date?: string;\n    query?: string;\n  }): Promise<Event[]> {\n    const conditions: any[] = [];\n    \n    if (filters.city) {\n      conditions.push(\n        or(\n          ilike(events.city, `%${filters.city}%`),\n          ilike(events.address, `%${filters.city}%`),\n          ilike(events.venueName, `%${filters.city}%`)\n        )\n      );\n    }\n    \n    if (filters.date) {\n      conditions.push(eq(events.date, filters.date));\n    }\n    \n    if (filters.query) {\n      conditions.push(\n        or(\n          ilike(events.title, `%${filters.query}%`),\n          ilike(events.description, `%${filters.query}%`),\n          ilike(events.venueName, `%${filters.query}%`)\n        )\n      );\n    }\n    \n    if (conditions.length === 0) {\n      return this.getEvents();\n    }\n    \n    return db.select().from(events).where(and(...conditions)).orderBy(desc(events.createdAt));\n  }\n\n  async createEvent(event: InsertEvent): Promise<Event> {\n    const result = await db.insert(events).values(event).returning();\n    return result[0];\n  }\n\n  async getVenues(): Promise<Venue[]> {\n    return db.select().from(venues).orderBy(desc(venues.eventsCount));\n  }\n\n  async getVenue(id: string): Promise<Venue | undefined> {\n    const result = await db.select().from(venues).where(eq(venues.id, id));\n    return result[0];\n  }\n\n  async createVenue(venue: InsertVenue): Promise<Venue> {\n    const result = await db.insert(venues).values(venue).returning();\n    return result[0];\n  }\n\n  async getFavorites(userId: string): Promise<Favorite[]> {\n    return db.select().from(favorites).where(eq(favorites.userId, userId));\n  }\n\n  async getFavoriteEvents(userId: string): Promise<Event[]> {\n    const userFavorites = await db.select().from(favorites).where(eq(favorites.userId, userId));\n    const eventIds = userFavorites.map(f => f.eventId);\n    if (eventIds.length === 0) return [];\n    \n    const result: Event[] = [];\n    for (const eventId of eventIds) {\n      const event = await this.getEvent(eventId);\n      if (event) result.push(event);\n    }\n    return result;\n  }\n\n  async addFavorite(favorite: InsertFavorite): Promise<Favorite> {\n    const result = await db.insert(favorites).values(favorite).returning();\n    return result[0];\n  }\n\n  async removeFavorite(userId: string, eventId: string): Promise<void> {\n    await db.delete(favorites).where(\n      and(eq(favorites.userId, userId), eq(favorites.eventId, eventId))\n    );\n  }\n\n  async isFavorite(userId: string, eventId: string): Promise<boolean> {\n    const result = await db.select().from(favorites).where(\n      and(eq(favorites.userId, userId), eq(favorites.eventId, eventId))\n    );\n    return result.length > 0;\n  }\n\n  async getUserEvents(userId: string): Promise<Event[]> {\n    const attendances = await db.select().from(eventAttendees).where(eq(eventAttendees.userId, userId));\n    const eventIds = attendances.map(a => a.eventId);\n    if (eventIds.length === 0) return [];\n    \n    const result: Event[] = [];\n    for (const eventId of eventIds) {\n      const event = await this.getEvent(eventId);\n      if (event) result.push(event);\n    }\n    return result;\n  }\n\n  async attendEvent(userId: string, eventId: string): Promise<void> {\n    await db.insert(eventAttendees).values({ userId, eventId, status: \"confirmed\" });\n  }\n\n  async getNearbyEvents(lat: number, lng: number, radiusKm: number): Promise<(Event & { distance: number })[]> {\n    const allEvents = await this.getEvents();\n    \n    const eventsWithDistance = allEvents\n      .filter(event => event.latitude && event.longitude)\n      .map(event => {\n        const eventLat = parseFloat(event.latitude as string);\n        const eventLng = parseFloat(event.longitude as string);\n        const distance = this.calculateDistance(lat, lng, eventLat, eventLng);\n        return { ...event, distance };\n      })\n      .filter(event => event.distance <= radiusKm)\n      .sort((a, b) => a.distance - b.distance);\n    \n    return eventsWithDistance;\n  }\n\n  private calculateDistance(lat1: number, lng1: number, lat2: number, lng2: number): number {\n    const R = 6371;\n    const dLat = this.toRad(lat2 - lat1);\n    const dLng = this.toRad(lng2 - lng1);\n    const a =\n      Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n      Math.cos(this.toRad(lat1)) * Math.cos(this.toRad(lat2)) *\n      Math.sin(dLng / 2) * Math.sin(dLng / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  }\n\n  private toRad(deg: number): number {\n    return deg * (Math.PI / 180);\n  }\n}\n\nexport const storage = new DatabaseStorage();\n","path":null,"size_bytes":7588,"size_tokens":null},"client/screens/ProfileScreen.tsx":{"content":"import React from \"react\";\nimport {\n  View,\n  ScrollView,\n  StyleSheet,\n  Pressable,\n} from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useBottomTabBarHeight } from \"@react-navigation/bottom-tabs\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport type { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius, Colors } from \"@/constants/theme\";\n\nexport default function ProfileScreen() {\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n  const tabBarHeight = useBottomTabBarHeight();\n  const { theme } = useTheme();\n  const navigation = useNavigation<NativeStackNavigationProp<any>>();\n\n  const handleSignUp = () => {\n    navigation.navigate(\"SignUp\");\n  };\n\n  const handleLogIn = () => {\n    navigation.navigate(\"Login\");\n  };\n\n  return (\n    <ScrollView\n      style={[styles.container, { backgroundColor: theme.backgroundRoot }]}\n      contentContainerStyle={{\n        paddingTop: headerHeight + Spacing.lg,\n        paddingBottom: tabBarHeight + Spacing.xl,\n        flexGrow: 1,\n      }}\n      scrollIndicatorInsets={{ bottom: insets.bottom }}\n      showsVerticalScrollIndicator={false}\n    >\n      <View style={styles.emptyStateContainer}>\n        <View style={styles.iconContainer}>\n          <Feather name=\"user\" size={48} color={Colors.dark.primary} />\n        </View>\n        \n        <ThemedText type=\"h3\" style={styles.emptyTitle}>\n          Entre na sua conta\n        </ThemedText>\n        \n        <ThemedText style={styles.emptyDescription}>\n          Faca login ou crie uma conta para salvar seus eventos favoritos, seguir amigos e muito mais.\n        </ThemedText>\n\n        <View style={styles.buttonsContainer}>\n          <Pressable\n            style={({ pressed }) => [\n              styles.signUpButton,\n              pressed && styles.pressed,\n            ]}\n            onPress={handleSignUp}\n          >\n            <ThemedText style={styles.signUpButtonText}>Criar conta</ThemedText>\n          </Pressable>\n\n          <Pressable\n            style={({ pressed }) => [\n              styles.logInButton,\n              pressed && styles.pressed,\n            ]}\n            onPress={handleLogIn}\n          >\n            <ThemedText style={styles.logInButtonText}>Entrar</ThemedText>\n          </Pressable>\n        </View>\n      </View>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  emptyStateContainer: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingHorizontal: Spacing.xl,\n  },\n  iconContainer: {\n    width: 100,\n    height: 100,\n    borderRadius: 50,\n    backgroundColor: Colors.dark.primary + \"15\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginBottom: Spacing.xl,\n  },\n  emptyTitle: {\n    marginBottom: Spacing.md,\n    textAlign: \"center\",\n  },\n  emptyDescription: {\n    color: Colors.dark.textSecondary,\n    textAlign: \"center\",\n    marginBottom: Spacing.xl,\n    lineHeight: 22,\n  },\n  buttonsContainer: {\n    width: \"100%\",\n    gap: Spacing.md,\n  },\n  signUpButton: {\n    backgroundColor: Colors.dark.primary,\n    paddingVertical: Spacing.lg,\n    borderRadius: BorderRadius.lg,\n    alignItems: \"center\",\n  },\n  signUpButtonText: {\n    color: \"#FFF\",\n    fontSize: 16,\n    fontWeight: \"600\",\n  },\n  logInButton: {\n    backgroundColor: \"transparent\",\n    paddingVertical: Spacing.lg,\n    borderRadius: BorderRadius.lg,\n    borderWidth: 1,\n    borderColor: Colors.dark.primary,\n    alignItems: \"center\",\n  },\n  logInButtonText: {\n    color: Colors.dark.primary,\n    fontSize: 16,\n    fontWeight: \"600\",\n  },\n  pressed: {\n    opacity: 0.8,\n    transform: [{ scale: 0.98 }],\n  },\n});\n","path":null,"size_bytes":3954,"size_tokens":null},"client/navigation/ProfileStackNavigator.tsx":{"content":"import React from \"react\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { Pressable } from \"react-native\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport ProfileScreen from \"@/screens/ProfileScreen\";\nimport { useScreenOptions } from \"@/hooks/useScreenOptions\";\nimport { useTheme } from \"@/hooks/useTheme\";\n\nexport type ProfileStackParamList = {\n  Profile: undefined;\n};\n\nconst Stack = createNativeStackNavigator<ProfileStackParamList>();\n\nexport default function ProfileStackNavigator() {\n  const screenOptions = useScreenOptions();\n  const { theme } = useTheme();\n\n  return (\n    <Stack.Navigator screenOptions={screenOptions}>\n      <Stack.Screen\n        name=\"Profile\"\n        component={ProfileScreen}\n        options={{\n          headerTitle: \"Perfil\",\n          headerRight: () => (\n            <Pressable hitSlop={8}>\n              <Feather name=\"settings\" size={22} color={theme.text} />\n            </Pressable>\n          ),\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","path":null,"size_bytes":1030,"size_tokens":null},"client/components/ErrorFallback.tsx":{"content":"import React, { useState } from \"react\";\nimport { reloadAppAsync } from \"expo\";\nimport {\n  StyleSheet,\n  View,\n  Pressable,\n  ScrollView,\n  Text,\n  Modal,\n} from \"react-native\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius, Fonts } from \"@/constants/theme\";\n\nexport type ErrorFallbackProps = {\n  error: Error;\n  resetError: () => void;\n};\n\nexport function ErrorFallback({ error, resetError }: ErrorFallbackProps) {\n  const { theme } = useTheme();\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const handleRestart = async () => {\n    try {\n      await reloadAppAsync();\n    } catch (restartError) {\n      console.error(\"Failed to restart app:\", restartError);\n      resetError();\n    }\n  };\n\n  const formatErrorDetails = (): string => {\n    let details = `Error: ${error.message}\\n\\n`;\n    if (error.stack) {\n      details += `Stack Trace:\\n${error.stack}`;\n    }\n    return details;\n  };\n\n  return (\n    <ThemedView style={styles.container}>\n      {__DEV__ ? (\n        <Pressable\n          onPress={() => setIsModalVisible(true)}\n          style={({ pressed }) => [\n            styles.topButton,\n            {\n              backgroundColor: theme.backgroundDefault,\n              opacity: pressed ? 0.8 : 1,\n            },\n          ]}\n        >\n          <Feather name=\"alert-circle\" size={20} color={theme.text} />\n        </Pressable>\n      ) : null}\n\n      <View style={styles.content}>\n        <ThemedText type=\"h1\" style={styles.title}>\n          Something went wrong\n        </ThemedText>\n\n        <ThemedText type=\"body\" style={styles.message}>\n          Please reload the app to continue.\n        </ThemedText>\n\n        <Pressable\n          onPress={handleRestart}\n          style={({ pressed }) => [\n            styles.button,\n            {\n              backgroundColor: theme.link,\n              opacity: pressed ? 0.9 : 1,\n              transform: [{ scale: pressed ? 0.98 : 1 }],\n            },\n          ]}\n        >\n          <ThemedText\n            type=\"body\"\n            style={[styles.buttonText, { color: theme.buttonText }]}\n          >\n            Try Again\n          </ThemedText>\n        </Pressable>\n      </View>\n\n      {__DEV__ ? (\n        <Modal\n          visible={isModalVisible}\n          animationType=\"slide\"\n          transparent={true}\n          onRequestClose={() => setIsModalVisible(false)}\n        >\n          <View style={styles.modalOverlay}>\n            <ThemedView style={styles.modalContainer}>\n              <View style={styles.modalHeader}>\n                <ThemedText type=\"h2\" style={styles.modalTitle}>\n                  Error Details\n                </ThemedText>\n                <Pressable\n                  onPress={() => setIsModalVisible(false)}\n                  style={({ pressed }) => [\n                    styles.closeButton,\n                    { opacity: pressed ? 0.6 : 1 },\n                  ]}\n                >\n                  <Feather name=\"x\" size={24} color={theme.text} />\n                </Pressable>\n              </View>\n\n              <ScrollView\n                style={styles.modalScrollView}\n                contentContainerStyle={styles.modalScrollContent}\n                showsVerticalScrollIndicator\n              >\n                <View\n                  style={[\n                    styles.errorContainer,\n                    { backgroundColor: theme.backgroundDefault },\n                  ]}\n                >\n                  <Text\n                    style={[\n                      styles.errorText,\n                      {\n                        color: theme.text,\n                        fontFamily: Fonts?.mono || \"monospace\",\n                      },\n                    ]}\n                    selectable\n                  >\n                    {formatErrorDetails()}\n                  </Text>\n                </View>\n              </ScrollView>\n            </ThemedView>\n          </View>\n        </Modal>\n      ) : null}\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: \"100%\",\n    height: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: Spacing[\"2xl\"],\n  },\n  content: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    gap: Spacing.lg,\n    width: \"100%\",\n    maxWidth: 600,\n  },\n  title: {\n    textAlign: \"center\",\n    lineHeight: 40,\n  },\n  message: {\n    textAlign: \"center\",\n    opacity: 0.7,\n    lineHeight: 24,\n  },\n  topButton: {\n    position: \"absolute\",\n    top: Spacing[\"2xl\"] + Spacing.lg,\n    right: Spacing.lg,\n    width: 44,\n    height: 44,\n    borderRadius: BorderRadius.md,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    zIndex: 10,\n  },\n  button: {\n    paddingVertical: Spacing.lg,\n    borderRadius: BorderRadius.md,\n    paddingHorizontal: Spacing[\"2xl\"],\n    minWidth: 200,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  buttonText: {\n    fontWeight: \"600\",\n    textAlign: \"center\",\n    fontSize: 16,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n    justifyContent: \"flex-end\",\n  },\n  modalContainer: {\n    width: \"100%\",\n    height: \"90%\",\n    borderTopLeftRadius: BorderRadius.lg,\n    borderTopRightRadius: BorderRadius.lg,\n  },\n  modalHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    paddingHorizontal: Spacing.lg,\n    paddingTop: Spacing.lg,\n    paddingBottom: Spacing.md,\n    borderBottomWidth: 1,\n    borderBottomColor: \"rgba(128, 128, 128, 0.2)\",\n  },\n  modalTitle: {\n    fontWeight: \"600\",\n  },\n  closeButton: {\n    padding: Spacing.xs,\n  },\n  modalScrollView: {\n    flex: 1,\n  },\n  modalScrollContent: {\n    padding: Spacing.lg,\n  },\n  errorContainer: {\n    width: \"100%\",\n    borderRadius: BorderRadius.md,\n    overflow: \"hidden\",\n    padding: Spacing.lg,\n  },\n  errorText: {\n    fontSize: 12,\n    lineHeight: 18,\n    width: \"100%\",\n  },\n});\n","path":null,"size_bytes":6194,"size_tokens":null},"client/components/ThemedText.tsx":{"content":"import { Text, type TextProps } from \"react-native\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Typography } from \"@/constants/theme\";\n\nexport type ThemedTextProps = TextProps & {\n  lightColor?: string;\n  darkColor?: string;\n  type?: \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"body\" | \"small\" | \"caption\" | \"link\";\n};\n\nexport function ThemedText({\n  style,\n  lightColor,\n  darkColor,\n  type = \"body\",\n  ...rest\n}: ThemedTextProps) {\n  const { theme, isDark } = useTheme();\n\n  const getColor = () => {\n    if (isDark && darkColor) {\n      return darkColor;\n    }\n\n    if (!isDark && lightColor) {\n      return lightColor;\n    }\n\n    if (type === \"link\") {\n      return theme.link;\n    }\n\n    return theme.text;\n  };\n\n  const getTypeStyle = () => {\n    switch (type) {\n      case \"h1\":\n        return Typography.h1;\n      case \"h2\":\n        return Typography.h2;\n      case \"h3\":\n        return Typography.h3;\n      case \"h4\":\n        return Typography.h4;\n      case \"body\":\n        return Typography.body;\n      case \"small\":\n        return Typography.small;\n      case \"caption\":\n        return Typography.caption;\n      case \"link\":\n        return Typography.link;\n      default:\n        return Typography.body;\n    }\n  };\n\n  return (\n    <Text style={[{ color: getColor() }, getTypeStyle(), style]} {...rest} />\n  );\n}\n","path":null,"size_bytes":1320,"size_tokens":null},"server/db.ts":{"content":"import { drizzle } from \"drizzle-orm/node-postgres\";\nimport pg from \"pg\";\nimport * as schema from \"@shared/schema\";\n\nconst { Pool } = pg;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL is not set\");\n}\n\nconst pool = new Pool({\n  connectionString: process.env.DATABASE_URL,\n});\n\nexport const db = drizzle(pool, { schema });\n","path":null,"size_bytes":341,"size_tokens":null},"server/seed.ts":{"content":"import { db } from \"./db\";\nimport { users, venues, events } from \"@shared/schema\";\n\nasync function seed() {\n  console.log(\"Seeding database...\");\n\n  const [demoUser] = await db.insert(users).values({\n    id: \"demo-user\",\n    name: \"Usuario Demo\",\n    email: \"demo@borabailar.com\",\n    bio: \"Conta de demonstracao do BoraBailar\",\n    avatarInitials: \"UD\",\n  }).returning();\n\n  console.log(\"Created demo user:\", demoUser.name);\n\n  const [user1] = await db.insert(users).values({\n    name: \"Ana Costa\",\n    email: \"ana@borabailar.com\",\n    bio: \"Amante de salsa e forro. Sempre procurando a proxima festa!\",\n    avatarInitials: \"AC\",\n  }).returning();\n\n  console.log(\"Created user:\", user1.name);\n\n  const venueData = [\n    { name: \"Club Havana\", address: \"Rua das Flores, 123 - Centro\", eventsCount: 12 },\n    { name: \"Espaco Nordeste\", address: \"Av. Brasil, 456 - Pinheiros\", eventsCount: 8 },\n    { name: \"Bar do Samba\", address: \"Rua Augusta, 789 - Consolacao\", eventsCount: 15 },\n    { name: \"Dance Studio\", address: \"Rua Oscar Freire, 321 - Jardins\", eventsCount: 6 },\n  ];\n\n  const createdVenues = await db.insert(venues).values(venueData).returning();\n  console.log(\"Created venues:\", createdVenues.length);\n\n  const eventData = [\n    {\n      title: \"Noite Latina\",\n      description: \"Uma noite inesquecivel de ritmos latinos! Venha dancar salsa, bachata, merengue e muito mais. DJ internacional e aula de danca incluida. Dress code: casual elegante.\",\n      venueName: \"Club Havana\",\n      address: \"Rua das Flores, 123 - Centro\",\n      date: \"Sab, 14 Dez\",\n      time: \"22:00\",\n      endTime: \"04:00\",\n      price: \"R$ 40,00\",\n      attendeesCount: 234,\n      isFeatured: true,\n      latitude: \"-23.5505\",\n      longitude: \"-46.6333\",\n    },\n    {\n      title: \"Forrozada\",\n      description: \"O melhor do forro pe de serra com banda ao vivo. Traga sua sanfona ou venha so dancar!\",\n      venueName: \"Espaco Nordeste\",\n      address: \"Av. Brasil, 456 - Pinheiros\",\n      date: \"Dom, 15 Dez\",\n      time: \"18:00\",\n      endTime: \"23:00\",\n      price: \"R$ 30,00\",\n      attendeesCount: 156,\n      isFeatured: false,\n      latitude: \"-23.5629\",\n      longitude: \"-46.6880\",\n    },\n    {\n      title: \"Samba Rock\",\n      description: \"Noite classica de samba rock com os melhores DJs da cena. Vista-se para impressionar!\",\n      venueName: \"Bar do Samba\",\n      address: \"Rua Augusta, 789 - Consolacao\",\n      date: \"Sex, 20 Dez\",\n      time: \"21:00\",\n      endTime: \"03:00\",\n      price: \"R$ 25,00\",\n      attendeesCount: 89,\n      isFeatured: false,\n      latitude: \"-23.5538\",\n      longitude: \"-46.6539\",\n    },\n    {\n      title: \"Zouk Night\",\n      description: \"Aula de zouk brasileiro seguida de festa. Todos os niveis sao bem-vindos!\",\n      venueName: \"Dance Studio\",\n      address: \"Rua Oscar Freire, 321 - Jardins\",\n      date: \"Sab, 21 Dez\",\n      time: \"20:00\",\n      endTime: \"02:00\",\n      price: \"R$ 35,00\",\n      attendeesCount: 178,\n      isFeatured: false,\n      latitude: \"-23.5618\",\n      longitude: \"-46.6693\",\n    },\n    {\n      title: \"Baile Funk\",\n      description: \"O melhor do funk carioca com MC's convidados. Dresscode: esportivo.\",\n      venueName: \"Club Havana\",\n      address: \"Rua das Flores, 123 - Centro\",\n      date: \"Sex, 27 Dez\",\n      time: \"23:00\",\n      endTime: \"05:00\",\n      price: \"R$ 50,00\",\n      attendeesCount: 312,\n      isFeatured: true,\n      latitude: \"-23.5505\",\n      longitude: \"-46.6333\",\n    },\n    {\n      title: \"Tango Milonga\",\n      description: \"Noite tradicional de tango argentino. Aula de tango as 20h, milonga as 21h30.\",\n      venueName: \"Dance Studio\",\n      address: \"Rua Oscar Freire, 321 - Jardins\",\n      date: \"Sab, 28 Dez\",\n      time: \"20:00\",\n      endTime: \"01:00\",\n      price: \"R$ 45,00\",\n      attendeesCount: 67,\n      isFeatured: false,\n      latitude: \"-23.5618\",\n      longitude: \"-46.6693\",\n    },\n  ];\n\n  const createdEvents = await db.insert(events).values(eventData).returning();\n  console.log(\"Created events:\", createdEvents.length);\n\n  console.log(\"Seeding complete!\");\n  process.exit(0);\n}\n\nseed().catch((err) => {\n  console.error(\"Seeding failed:\", err);\n  process.exit(1);\n});\n","path":null,"size_bytes":4178,"size_tokens":null},"replit.md":{"content":"# BoraBailar - Mobile App\n\n## Overview\nBoraBailar is a social mobile application for discovering and attending dance events, parties, and nightlife experiences. Built with React Native and Expo, the app connects party-goers with local events and creates a vibrant community around dance culture.\n\n## Tech Stack\n- **Frontend**: React Native with Expo SDK 54\n- **Navigation**: React Navigation 7 (Bottom Tabs + Stack)\n- **State Management**: TanStack Query\n- **Backend**: Express.js with TypeScript\n- **Database**: PostgreSQL with Drizzle ORM\n\n## Project Structure\n```\nclient/\n App.tsx                    # Main app entry with providers\n components/                # Reusable UI components\n    Button.tsx            # Gradient primary button\n    Card.tsx              # Animated card component\n    ErrorBoundary.tsx     # App crash handler\n    HeaderTitle.tsx       # Header with app icon\n    KeyboardAwareScrollViewCompat.tsx\n    ThemedText.tsx        # Typography component\n    ThemedView.tsx        # Themed container\n constants/\n    theme.ts              # Design tokens (colors, spacing, etc.)\n hooks/\n    useColorScheme.ts\n    useScreenOptions.ts\n    useTheme.ts\n navigation/\n    DiscoverStackNavigator.tsx\n    MainTabNavigator.tsx   # 4 tabs + FAB\n    MessagesStackNavigator.tsx\n    MyEventsStackNavigator.tsx\n    ProfileStackNavigator.tsx\n    RootStackNavigator.tsx\n screens/\n    DiscoverScreen.tsx     # Home/discover events\n    EventDetailsScreen.tsx # Event details modal\n    MessagesScreen.tsx     # Chat conversations\n    MyEventsScreen.tsx     # User's events\n    ProfileScreen.tsx      # User profile\n lib/\n     query-client.ts\nserver/\n index.ts                   # Express server entry\n routes.ts                  # API routes\n storage.ts                 # Data storage\n```\n\n## Design System\n- **Brand/Primary**: Red (#C41E3A)\n- **Secondary**: Hot Pink (#EC4899)\n- **Tertiary**: Vibrant Orange (#F97316)\n- **Background**: White (#FFFFFF)\n- **Wizard Background**: Light Gray (#EDEDED)\n- **Brand Font**: Didot/Bodoni (serif)\n\n## Navigation Structure\n1. **Descobrir** (Discover) - Browse upcoming events\n2. **Eventos** (My Events) - User's saved/attending events\n3. **Mensagens** (Messages) - Chat with attendees/organizers\n4. **Perfil** (Profile) - User account and settings\n5. **FAB** - Floating action button for quick actions\n\n## Running the App\n- Dev server starts on port 5000 (Express) and 8081 (Metro)\n- Use Expo Go to scan QR code for mobile testing\n- Web version available at the deployment URL\n\n## API Endpoints\n- `GET /api/events` - List all events (supports ?search= query)\n- `GET /api/events/featured` - Featured events\n- `GET /api/events/nearby?lat=&lng=&radius=` - Nearby events sorted by distance\n- `GET /api/events/:id` - Event details\n- `GET /api/venues` - List all venues\n- `GET /api/users/:id/favorites` - User's favorite events\n- `POST /api/users/:id/favorites` - Add event to favorites\n- `DELETE /api/users/:id/favorites/:eventId` - Remove from favorites\n\n## Features\n- **Event Discovery**: Browse, search, and filter dance events\n- **Favorites System**: Save events to \"My Events\" with backend persistence\n- **Geolocation**: Request location permission to see nearby events sorted by distance\n- **Demo User**: Uses \"demo-user\" ID for favorites functionality\n- **Recomendaes Especiais**: Horizontal carousel with 6 special offers (admin-managed, currently mocked)\n- **BoraBailar Top Dance Awards**: 10 dance award categories with participation button\n\n## Recent Changes\n- December 2024: Complete home screen redesign with wizard-style search\n  - Light/white theme with red branding\n  - Logo and BORABAILAR brand name with Didot/Bodoni font\n  - Wizard search with 3 fields: Onde, Quando, Com quem\n  - Sign up / Log in buttons in header\n- December 2024: Added geolocation for nearby events with distance display\n- December 2024: Implemented favorites system with PostgreSQL persistence\n- December 2024: Added search and venue filtering functionality\n- December 2024: Initial MVP implementation with all core screens\n","path":null,"size_bytes":4415,"size_tokens":null},"client/components/Button.tsx":{"content":"import React, { ReactNode } from \"react\";\nimport { StyleSheet, Pressable, ViewStyle, StyleProp, View } from \"react-native\";\nimport Animated, {\n  useAnimatedStyle,\n  useSharedValue,\n  withSpring,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\nimport { LinearGradient } from \"expo-linear-gradient\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { BorderRadius, Spacing, Colors } from \"@/constants/theme\";\n\ninterface ButtonProps {\n  onPress?: () => void;\n  children: ReactNode;\n  style?: StyleProp<ViewStyle>;\n  disabled?: boolean;\n  variant?: \"primary\" | \"secondary\" | \"outline\";\n}\n\nconst springConfig: WithSpringConfig = {\n  damping: 15,\n  mass: 0.3,\n  stiffness: 150,\n  overshootClamping: true,\n  energyThreshold: 0.001,\n};\n\nconst AnimatedPressable = Animated.createAnimatedComponent(Pressable);\n\nexport function Button({\n  onPress,\n  children,\n  style,\n  disabled = false,\n  variant = \"primary\",\n}: ButtonProps) {\n  const scale = useSharedValue(1);\n\n  const animatedStyle = useAnimatedStyle(() => ({\n    transform: [{ scale: scale.value }],\n  }));\n\n  const handlePressIn = () => {\n    if (!disabled) {\n      scale.value = withSpring(0.96, springConfig);\n    }\n  };\n\n  const handlePressOut = () => {\n    if (!disabled) {\n      scale.value = withSpring(1, springConfig);\n    }\n  };\n\n  const getButtonStyle = () => {\n    switch (variant) {\n      case \"outline\":\n        return {\n          backgroundColor: \"transparent\",\n          borderWidth: 1,\n          borderColor: Colors.dark.primary,\n        };\n      case \"secondary\":\n        return {\n          backgroundColor: Colors.dark.backgroundSecondary,\n        };\n      default:\n        return {};\n    }\n  };\n\n  const getTextColor = () => {\n    switch (variant) {\n      case \"outline\":\n        return Colors.dark.primary;\n      default:\n        return Colors.dark.buttonText;\n    }\n  };\n\n  return (\n    <AnimatedPressable\n      onPress={disabled ? undefined : onPress}\n      onPressIn={handlePressIn}\n      onPressOut={handlePressOut}\n      disabled={disabled}\n      style={[\n        styles.button,\n        getButtonStyle(),\n        { opacity: disabled ? 0.5 : 1 },\n        style,\n        animatedStyle,\n      ]}\n    >\n      {variant === \"primary\" ? (\n        <LinearGradient\n          colors={[Colors.dark.primary, Colors.dark.secondary]}\n          start={{ x: 0, y: 0 }}\n          end={{ x: 1, y: 1 }}\n          style={StyleSheet.absoluteFill}\n        />\n      ) : null}\n      <ThemedText\n        type=\"body\"\n        style={[styles.buttonText, { color: getTextColor() }]}\n      >\n        {children}\n      </ThemedText>\n    </AnimatedPressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  button: {\n    height: Spacing.buttonHeight,\n    borderRadius: BorderRadius.full,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    overflow: \"hidden\",\n  },\n  buttonText: {\n    fontWeight: \"600\",\n  },\n});\n","path":null,"size_bytes":2876,"size_tokens":null},"client/navigation/MessagesStackNavigator.tsx":{"content":"import React from \"react\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport MessagesScreen from \"@/screens/MessagesScreen\";\nimport { useScreenOptions } from \"@/hooks/useScreenOptions\";\n\nexport type MessagesStackParamList = {\n  Messages: undefined;\n};\n\nconst Stack = createNativeStackNavigator<MessagesStackParamList>();\n\nexport default function MessagesStackNavigator() {\n  const screenOptions = useScreenOptions();\n\n  return (\n    <Stack.Navigator screenOptions={screenOptions}>\n      <Stack.Screen\n        name=\"Messages\"\n        component={MessagesScreen}\n        options={{\n          headerTitle: \"Mensagens\",\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","path":null,"size_bytes":699,"size_tokens":null},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"node:http\";\nimport { storage } from \"./storage\";\nimport { insertEventSchema, insertVenueSchema, insertUserSchema } from \"@shared/schema\";\nimport OpenAI from \"openai\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport os from \"os\";\n\n// OpenAI integration for audio transcription (lazy initialization)\n// the newest OpenAI model is \"gpt-5\" which was released August 7, 2025. do not change this unless explicitly requested by the user\nfunction getOpenAIClient(): OpenAI | null {\n  if (!process.env.OPENAI_API_KEY) {\n    return null;\n  }\n  return new OpenAI({ apiKey: process.env.OPENAI_API_KEY });\n}\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  app.get(\"/api/events\", async (req, res) => {\n    try {\n      const { search } = req.query;\n      let eventsList;\n      \n      if (search && typeof search === \"string\") {\n        eventsList = await storage.searchEvents(search);\n      } else {\n        eventsList = await storage.getEvents();\n      }\n      \n      res.json(eventsList);\n    } catch (error) {\n      console.error(\"Error fetching events:\", error);\n      res.status(500).json({ error: \"Failed to fetch events\" });\n    }\n  });\n\n  app.get(\"/api/events/featured\", async (req, res) => {\n    try {\n      const featured = await storage.getFeaturedEvents();\n      res.json(featured);\n    } catch (error) {\n      console.error(\"Error fetching featured events:\", error);\n      res.status(500).json({ error: \"Failed to fetch featured events\" });\n    }\n  });\n\n  app.get(\"/api/events/search\", async (req, res) => {\n    try {\n      const { city, date, query } = req.query;\n      const filters: { city?: string; date?: string; query?: string } = {};\n      \n      if (city && typeof city === \"string\") {\n        filters.city = city;\n      }\n      if (date && typeof date === \"string\") {\n        filters.date = date;\n      }\n      if (query && typeof query === \"string\") {\n        filters.query = query;\n      }\n      \n      const eventsList = await storage.advancedSearchEvents(filters);\n      res.json(eventsList);\n    } catch (error) {\n      console.error(\"Error searching events:\", error);\n      res.status(500).json({ error: \"Failed to search events\" });\n    }\n  });\n\n  app.get(\"/api/events/nearby\", async (req, res) => {\n    try {\n      const { lat, lng, radius } = req.query;\n      if (!lat || !lng) {\n        return res.status(400).json({ error: \"lat and lng are required\" });\n      }\n      const latitude = parseFloat(lat as string);\n      const longitude = parseFloat(lng as string);\n      const radiusKm = radius ? parseFloat(radius as string) : 10;\n      \n      if (isNaN(latitude) || isNaN(longitude)) {\n        return res.status(400).json({ error: \"Invalid coordinates\" });\n      }\n      \n      const nearbyEvents = await storage.getNearbyEvents(latitude, longitude, radiusKm);\n      res.json(nearbyEvents);\n    } catch (error) {\n      console.error(\"Error fetching nearby events:\", error);\n      res.status(500).json({ error: \"Failed to fetch nearby events\" });\n    }\n  });\n\n  app.get(\"/api/events/:id\", async (req, res) => {\n    try {\n      const event = await storage.getEvent(req.params.id);\n      if (!event) {\n        return res.status(404).json({ error: \"Event not found\" });\n      }\n      res.json(event);\n    } catch (error) {\n      console.error(\"Error fetching event:\", error);\n      res.status(500).json({ error: \"Failed to fetch event\" });\n    }\n  });\n\n  app.post(\"/api/events\", async (req, res) => {\n    try {\n      const parsed = insertEventSchema.safeParse(req.body);\n      if (!parsed.success) {\n        return res.status(400).json({ error: parsed.error.errors });\n      }\n      const event = await storage.createEvent(parsed.data);\n      res.status(201).json(event);\n    } catch (error) {\n      console.error(\"Error creating event:\", error);\n      res.status(500).json({ error: \"Failed to create event\" });\n    }\n  });\n\n  app.get(\"/api/venues\", async (req, res) => {\n    try {\n      const venuesList = await storage.getVenues();\n      res.json(venuesList);\n    } catch (error) {\n      console.error(\"Error fetching venues:\", error);\n      res.status(500).json({ error: \"Failed to fetch venues\" });\n    }\n  });\n\n  app.get(\"/api/venues/:id\", async (req, res) => {\n    try {\n      const venue = await storage.getVenue(req.params.id);\n      if (!venue) {\n        return res.status(404).json({ error: \"Venue not found\" });\n      }\n      res.json(venue);\n    } catch (error) {\n      console.error(\"Error fetching venue:\", error);\n      res.status(500).json({ error: \"Failed to fetch venue\" });\n    }\n  });\n\n  app.post(\"/api/venues\", async (req, res) => {\n    try {\n      const parsed = insertVenueSchema.safeParse(req.body);\n      if (!parsed.success) {\n        return res.status(400).json({ error: parsed.error.errors });\n      }\n      const venue = await storage.createVenue(parsed.data);\n      res.status(201).json(venue);\n    } catch (error) {\n      console.error(\"Error creating venue:\", error);\n      res.status(500).json({ error: \"Failed to create venue\" });\n    }\n  });\n\n  app.get(\"/api/users/:id\", async (req, res) => {\n    try {\n      const user = await storage.getUser(req.params.id);\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      res.json(user);\n    } catch (error) {\n      console.error(\"Error fetching user:\", error);\n      res.status(500).json({ error: \"Failed to fetch user\" });\n    }\n  });\n\n  app.post(\"/api/users\", async (req, res) => {\n    try {\n      const parsed = insertUserSchema.safeParse(req.body);\n      if (!parsed.success) {\n        return res.status(400).json({ error: parsed.error.errors });\n      }\n      const user = await storage.createUser(parsed.data);\n      res.status(201).json(user);\n    } catch (error) {\n      console.error(\"Error creating user:\", error);\n      res.status(500).json({ error: \"Failed to create user\" });\n    }\n  });\n\n  app.get(\"/api/users/:id/favorites\", async (req, res) => {\n    try {\n      const favoriteEvents = await storage.getFavoriteEvents(req.params.id);\n      res.json(favoriteEvents);\n    } catch (error) {\n      console.error(\"Error fetching favorites:\", error);\n      res.status(500).json({ error: \"Failed to fetch favorites\" });\n    }\n  });\n\n  app.post(\"/api/users/:id/favorites\", async (req, res) => {\n    try {\n      const { eventId } = req.body;\n      if (!eventId) {\n        return res.status(400).json({ error: \"eventId is required\" });\n      }\n      const favorite = await storage.addFavorite({\n        userId: req.params.id,\n        eventId,\n      });\n      res.status(201).json(favorite);\n    } catch (error) {\n      console.error(\"Error adding favorite:\", error);\n      res.status(500).json({ error: \"Failed to add favorite\" });\n    }\n  });\n\n  app.delete(\"/api/users/:id/favorites/:eventId\", async (req, res) => {\n    try {\n      await storage.removeFavorite(req.params.id, req.params.eventId);\n      res.status(204).send();\n    } catch (error) {\n      console.error(\"Error removing favorite:\", error);\n      res.status(500).json({ error: \"Failed to remove favorite\" });\n    }\n  });\n\n  app.get(\"/api/users/:id/favorites/:eventId/check\", async (req, res) => {\n    try {\n      const isFav = await storage.isFavorite(req.params.id, req.params.eventId);\n      res.json({ isFavorite: isFav });\n    } catch (error) {\n      console.error(\"Error checking favorite:\", error);\n      res.status(500).json({ error: \"Failed to check favorite\" });\n    }\n  });\n\n  app.post(\"/api/transcribe\", async (req, res) => {\n    let tempFilePath: string | null = null;\n    \n    try {\n      const { audio, filename } = req.body;\n      \n      if (!audio || !filename) {\n        return res.status(400).json({ error: \"audio and filename are required\" });\n      }\n      \n      if (typeof audio !== \"string\" || typeof filename !== \"string\") {\n        return res.status(400).json({ error: \"Invalid request format\" });\n      }\n      \n      const MAX_AUDIO_SIZE = 10 * 1024 * 1024;\n      const audioBuffer = Buffer.from(audio, \"base64\");\n      \n      if (audioBuffer.length > MAX_AUDIO_SIZE) {\n        return res.status(400).json({ error: \"Audio file too large (max 10MB)\" });\n      }\n      \n      if (audioBuffer.length < 1000) {\n        return res.status(400).json({ error: \"Audio file too small or empty\" });\n      }\n      \n      const openai = getOpenAIClient();\n      if (!openai) {\n        return res.status(500).json({ error: \"OpenAI API key not configured\" });\n      }\n      \n      tempFilePath = path.join(os.tmpdir(), `recording_${Date.now()}_${Math.random().toString(36).slice(2)}.m4a`);\n      fs.writeFileSync(tempFilePath, audioBuffer);\n      \n      const audioFile = fs.createReadStream(tempFilePath);\n      \n      const transcription = await openai.audio.transcriptions.create({\n        file: audioFile,\n        model: \"whisper-1\",\n        language: \"pt\",\n      });\n      \n      res.json({ \n        text: transcription.text,\n      });\n    } catch (error: any) {\n      console.error(\"Transcription error:\", error);\n      res.status(500).json({ error: \"Failed to transcribe audio\" });\n    } finally {\n      if (tempFilePath && fs.existsSync(tempFilePath)) {\n        try {\n          fs.unlinkSync(tempFilePath);\n        } catch (e) {\n          console.error(\"Failed to delete temp file:\", e);\n        }\n      }\n    }\n  });\n\n  app.get(\"/api/users/:id/events\", async (req, res) => {\n    try {\n      const userEvents = await storage.getUserEvents(req.params.id);\n      res.json(userEvents);\n    } catch (error) {\n      console.error(\"Error fetching user events:\", error);\n      res.status(500).json({ error: \"Failed to fetch user events\" });\n    }\n  });\n\n  app.post(\"/api/users/:id/events/:eventId/attend\", async (req, res) => {\n    try {\n      await storage.attendEvent(req.params.id, req.params.eventId);\n      res.status(201).json({ success: true });\n    } catch (error) {\n      console.error(\"Error attending event:\", error);\n      res.status(500).json({ error: \"Failed to attend event\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","path":null,"size_bytes":10103,"size_tokens":null},"client/hooks/useScreenOptions.ts":{"content":"import { Platform } from \"react-native\";\nimport { NativeStackNavigationOptions } from \"@react-navigation/native-stack\";\nimport { isLiquidGlassAvailable } from \"expo-glass-effect\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\n\ninterface UseScreenOptionsParams {\n  transparent?: boolean;\n}\n\nexport function useScreenOptions({\n  transparent = true,\n}: UseScreenOptionsParams = {}): NativeStackNavigationOptions {\n  const { theme, isDark } = useTheme();\n\n  return {\n    headerTitleAlign: \"center\",\n    headerTransparent: transparent,\n    headerBlurEffect: isDark ? \"dark\" : \"light\",\n    headerTintColor: theme.text,\n    headerStyle: {\n      backgroundColor: Platform.select({\n        ios: undefined,\n        android: theme.backgroundRoot,\n        web: theme.backgroundRoot,\n      }),\n    },\n    gestureEnabled: true,\n    gestureDirection: \"horizontal\",\n    fullScreenGestureEnabled: isLiquidGlassAvailable() ? false : true,\n    contentStyle: {\n      backgroundColor: theme.backgroundRoot,\n    },\n  };\n}\n","path":null,"size_bytes":1000,"size_tokens":null},"client/components/ErrorBoundary.tsx":{"content":"import React, { Component, ComponentType, PropsWithChildren } from \"react\";\nimport { ErrorFallback, ErrorFallbackProps } from \"@/components/ErrorFallback\";\n\nexport type ErrorBoundaryProps = PropsWithChildren<{\n  FallbackComponent?: ComponentType<ErrorFallbackProps>;\n  onError?: (error: Error, stackTrace: string) => void;\n}>;\n\ntype ErrorBoundaryState = { error: Error | null };\n\n/**\n * This is a special case for for using the class components. Error boundaries must be class components because React only provides error boundary functionality through lifecycle methods (componentDidCatch and getDerivedStateFromError) which are not available in functional components.\n * https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary\n */\n\nexport class ErrorBoundary extends Component<\n  ErrorBoundaryProps,\n  ErrorBoundaryState\n> {\n  state: ErrorBoundaryState = { error: null };\n\n  static defaultProps: {\n    FallbackComponent: ComponentType<ErrorFallbackProps>;\n  } = {\n    FallbackComponent: ErrorFallback,\n  };\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    return { error };\n  }\n\n  componentDidCatch(error: Error, info: { componentStack: string }): void {\n    if (typeof this.props.onError === \"function\") {\n      this.props.onError(error, info.componentStack);\n    }\n  }\n\n  resetError = (): void => {\n    this.setState({ error: null });\n  };\n\n  render() {\n    const { FallbackComponent } = this.props;\n\n    return this.state.error && FallbackComponent ? (\n      <FallbackComponent\n        error={this.state.error}\n        resetError={this.resetError}\n      />\n    ) : (\n      this.props.children\n    );\n  }\n}\n","path":null,"size_bytes":1674,"size_tokens":null},"babel.config.js":{"content":"module.exports = function (api) {\n  api.cache(true);\n  return {\n    presets: [\"babel-preset-expo\"],\n    plugins: [\n      [\n        \"module-resolver\",\n        {\n          root: [\"./\"],\n          alias: {\n            \"@\": \"./client\",\n            \"@shared\": \"./shared\",\n          },\n          extensions: [\".ios.js\", \".android.js\", \".js\", \".ts\", \".tsx\", \".json\"],\n        },\n      ],\n      \"react-native-reanimated/plugin\",\n    ],\n  };\n};\n","path":null,"size_bytes":436,"size_tokens":null},"client/components/HeaderTitle.tsx":{"content":"import React from \"react\";\nimport { View, StyleSheet, Image } from \"react-native\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Spacing, Colors } from \"@/constants/theme\";\n\ninterface HeaderTitleProps {\n  title: string;\n}\n\nexport function HeaderTitle({ title }: HeaderTitleProps) {\n  return (\n    <View style={styles.container}>\n      <Image\n        source={require(\"../../assets/images/icon.png\")}\n        style={styles.icon}\n        resizeMode=\"contain\"\n      />\n      <ThemedText style={styles.title}>{title}</ThemedText>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n  },\n  icon: {\n    width: 32,\n    height: 32,\n    marginRight: Spacing.sm,\n    borderRadius: 8,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: \"700\",\n    color: Colors.dark.text,\n  },\n});\n","path":null,"size_bytes":890,"size_tokens":null},"client/lib/query-client.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\n/**\n * Gets the base URL for the Express API server (e.g., \"http://localhost:3000\")\n * @returns {string} The API base URL\n */\nexport function getApiUrl(): string {\n  let host = process.env.EXPO_PUBLIC_DOMAIN;\n\n  if (!host) {\n    throw new Error(\"EXPO_PUBLIC_DOMAIN is not set\");\n  }\n\n  let url = new URL(`https://${host}`);\n\n  return url.href;\n}\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  route: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const baseUrl = getApiUrl();\n  const url = new URL(route, baseUrl);\n\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const baseUrl = getApiUrl();\n    const url = new URL(queryKey.join(\"/\") as string, baseUrl);\n\n    const res = await fetch(url, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","path":null,"size_bytes":1876,"size_tokens":null},"server/index.ts":{"content":"import express from \"express\";\nimport type { Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport * as fs from \"fs\";\nimport * as path from \"path\";\n\nconst app = express();\nconst log = console.log;\n\ndeclare module \"http\" {\n  interface IncomingMessage {\n    rawBody: unknown;\n  }\n}\n\nfunction setupCors(app: express.Application) {\n  app.use((req, res, next) => {\n    const origins = new Set<string>();\n\n    if (process.env.REPLIT_DEV_DOMAIN) {\n      origins.add(`https://${process.env.REPLIT_DEV_DOMAIN}`);\n    }\n\n    if (process.env.REPLIT_DOMAINS) {\n      process.env.REPLIT_DOMAINS.split(\",\").forEach((d) => {\n        origins.add(`https://${d.trim()}`);\n      });\n    }\n\n    const origin = req.header(\"origin\");\n\n    if (origin && origins.has(origin)) {\n      res.header(\"Access-Control-Allow-Origin\", origin);\n      res.header(\n        \"Access-Control-Allow-Methods\",\n        \"GET, POST, PUT, DELETE, OPTIONS\",\n      );\n      res.header(\"Access-Control-Allow-Headers\", \"Content-Type\");\n      res.header(\"Access-Control-Allow-Credentials\", \"true\");\n    }\n\n    if (req.method === \"OPTIONS\") {\n      return res.sendStatus(200);\n    }\n\n    next();\n  });\n}\n\nfunction setupBodyParsing(app: express.Application) {\n  app.use(\n    express.json({\n      verify: (req, _res, buf) => {\n        req.rawBody = buf;\n      },\n    }),\n  );\n\n  app.use(express.urlencoded({ extended: false }));\n}\n\nfunction setupRequestLogging(app: express.Application) {\n  app.use((req, res, next) => {\n    const start = Date.now();\n    const path = req.path;\n    let capturedJsonResponse: Record<string, unknown> | undefined = undefined;\n\n    const originalResJson = res.json;\n    res.json = function (bodyJson, ...args) {\n      capturedJsonResponse = bodyJson;\n      return originalResJson.apply(res, [bodyJson, ...args]);\n    };\n\n    res.on(\"finish\", () => {\n      if (!path.startsWith(\"/api\")) return;\n\n      const duration = Date.now() - start;\n\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"\";\n      }\n\n      log(logLine);\n    });\n\n    next();\n  });\n}\n\nfunction getAppName(): string {\n  try {\n    const appJsonPath = path.resolve(process.cwd(), \"app.json\");\n    const appJsonContent = fs.readFileSync(appJsonPath, \"utf-8\");\n    const appJson = JSON.parse(appJsonContent);\n    return appJson.expo?.name || \"App Landing Page\";\n  } catch {\n    return \"App Landing Page\";\n  }\n}\n\nfunction serveExpoManifest(platform: string, res: Response) {\n  const manifestPath = path.resolve(\n    process.cwd(),\n    \"static-build\",\n    platform,\n    \"manifest.json\",\n  );\n\n  if (!fs.existsSync(manifestPath)) {\n    return res\n      .status(404)\n      .json({ error: `Manifest not found for platform: ${platform}` });\n  }\n\n  res.setHeader(\"expo-protocol-version\", \"1\");\n  res.setHeader(\"expo-sfv-version\", \"0\");\n  res.setHeader(\"content-type\", \"application/json\");\n\n  const manifest = fs.readFileSync(manifestPath, \"utf-8\");\n  res.send(manifest);\n}\n\nfunction serveLandingPage({\n  req,\n  res,\n  landingPageTemplate,\n  appName,\n}: {\n  req: Request;\n  res: Response;\n  landingPageTemplate: string;\n  appName: string;\n}) {\n  const forwardedProto = req.header(\"x-forwarded-proto\");\n  const protocol = forwardedProto || req.protocol || \"https\";\n  const forwardedHost = req.header(\"x-forwarded-host\");\n  const host = forwardedHost || req.get(\"host\");\n  const baseUrl = `${protocol}://${host}`;\n  const expsUrl = `${host}`;\n\n  log(`baseUrl`, baseUrl);\n  log(`expsUrl`, expsUrl);\n\n  const html = landingPageTemplate\n    .replace(/BASE_URL_PLACEHOLDER/g, baseUrl)\n    .replace(/EXPS_URL_PLACEHOLDER/g, expsUrl)\n    .replace(/APP_NAME_PLACEHOLDER/g, appName);\n\n  res.setHeader(\"Content-Type\", \"text/html; charset=utf-8\");\n  res.status(200).send(html);\n}\n\nfunction configureExpoAndLanding(app: express.Application) {\n  const templatePath = path.resolve(\n    process.cwd(),\n    \"server\",\n    \"templates\",\n    \"landing-page.html\",\n  );\n  const landingPageTemplate = fs.readFileSync(templatePath, \"utf-8\");\n  const appName = getAppName();\n\n  log(\"Serving static Expo files with dynamic manifest routing\");\n\n  app.use((req: Request, res: Response, next: NextFunction) => {\n    if (req.path.startsWith(\"/api\")) {\n      return next();\n    }\n\n    if (req.path !== \"/\" && req.path !== \"/manifest\") {\n      return next();\n    }\n\n    const platform = req.header(\"expo-platform\");\n    if (platform && (platform === \"ios\" || platform === \"android\")) {\n      return serveExpoManifest(platform, res);\n    }\n\n    if (req.path === \"/\") {\n      return serveLandingPage({\n        req,\n        res,\n        landingPageTemplate,\n        appName,\n      });\n    }\n\n    next();\n  });\n\n  app.use(\"/assets\", express.static(path.resolve(process.cwd(), \"assets\")));\n  app.use(express.static(path.resolve(process.cwd(), \"static-build\")));\n\n  log(\"Expo routing: Checking expo-platform header on / and /manifest\");\n}\n\nfunction setupErrorHandler(app: express.Application) {\n  app.use((err: unknown, _req: Request, res: Response, _next: NextFunction) => {\n    const error = err as {\n      status?: number;\n      statusCode?: number;\n      message?: string;\n    };\n\n    const status = error.status || error.statusCode || 500;\n    const message = error.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n\n    throw err;\n  });\n}\n\n(async () => {\n  setupCors(app);\n  setupBodyParsing(app);\n  setupRequestLogging(app);\n\n  configureExpoAndLanding(app);\n\n  const server = await registerRoutes(app);\n\n  setupErrorHandler(app);\n\n  const port = parseInt(process.env.PORT || \"5000\", 10);\n  server.listen(\n    {\n      port,\n      host: \"0.0.0.0\",\n      reusePort: true,\n    },\n    () => {\n      log(`express server serving on port ${port}`);\n    },\n  );\n})();\n","path":null,"size_bytes":5949,"size_tokens":null},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","path":null,"size_bytes":325,"size_tokens":null},"design_guidelines.md":{"content":"# BoraBailar - Design Guidelines\n\n## App Purpose\nBoraBailar is a social mobile application for discovering and attending dance events, parties, and nightlife experiences. The app connects party-goers with local events and creates a vibrant community around dance culture.\n\n## Brand Identity\n\n### Logo\n- Red dancing couple silhouette (BB symbol)\n- Located at: attached_assets/WhatsApp_Image_2025-12-09_at_11.41.04-removebg-preview_1765394422474.png\n\n### Typography\n- **Brand Name Font**: Didot/Bodoni (serif font)\n  - \"BORA\" in dark gray/black\n  - \"BAILAR\" in brand red, bold\n- **Body Text**: System font\n- **Tagline**: Bold, all caps, brand red\n\n### Tagline\n\"PRA SAIR, DANCAR E SE DIVERTIR!\"\n\n## Architecture Decisions\n\n### Authentication\n- Header displays \"Sign up\" and \"Log in\" buttons (not hamburger/bell icons)\n- Log in button has red/brand background color\n- Sign up is text-only button\n\n### Navigation Architecture\n**Tab Navigation** (4 tabs + FAB for core action)\n- **Descobrir** (Discover): Home with wizard search\n- **Eventos** (My Events): User's saved/attending events\n- **Floating Action Button**: Quick actions\n- **Mensagens** (Messages): Chat with attendees or event organizers\n- **Perfil** (Profile): User account and settings\n\n### Screen Specifications\n\n#### 1. Splash Screen\n- White background\n- BoraBailar logo centered\n- Clean, minimal design\n\n#### 2. Home Screen (Discover)\nLayout from top to bottom:\n1. **Header**: Sign up + Log in buttons (right side)\n2. **Hero Section**:\n   - Logo image (centered)\n   - Brand name \"BORABAILAR\" (Didot/Bodoni font)\n   - Tagline in red\n3. **Wizard Search Section**:\n   - Grayish container background (#EDEDED)\n   - 3 white search fields with considerable spacing:\n     - \"Onde\" (Where) - with chevrons icon\n     - \"Quando\" (When) - with chevrons icon  \n     - \"Com quem\" (With whom) - with microphone icon (red)\n   - Rounded corners on fields\n4. **Helper Text**: \"E so falar que a gente te entende!\"\n   - \"falar\" and \"entende\" highlighted in red\n5. **Content Section**: \"O seu querer e que faz acontecer\"\n   - \"querer\" and \"acontecer\" highlighted in red\n   - Horizontal scroll of event thumbnails\n6. **Events List**: Standard event list items\n\n#### 3. Event Details Screen (Modal Stack)\n- Full-width event image with gradient overlay\n- Event title, date, time, location\n- Ticket/RSVP section\n- Description and attendees\n\n#### 4. My Events Screen (Tab)\n- Segmented control (Upcoming / Past)\n- Event list\n\n#### 5. Profile Screen (Tab)\n- Avatar, display name\n- Settings and preferences\n\n## Design System\n\n### Color Palette\n- **Brand/Primary**: Red (#C41E3A) - Logo, CTAs, highlights\n- **Secondary**: Hot Pink (#EC4899) - Accents\n- **Tertiary**: Vibrant Orange (#F97316) - Energy\n- **Background Root**: White (#FFFFFF)\n- **Background Default**: Light Gray (#F9FAFB)\n- **Background Secondary**: Gray (#F3F4F6)\n- **Wizard Background**: Light Gray (#EDEDED)\n- **Text Primary**: Dark Gray (#1F2937)\n- **Text Secondary**: Medium Gray (#6B7280)\n- **Success**: Green (#10B981)\n- **Error**: Red (#EF4444)\n\n### Typography\n- **Brand Name**: Didot/Bodoni serif, 28pt, letter-spacing 2\n- **Headings**: System bold, 24-32pt\n- **Subheadings**: System semibold, 18-20pt\n- **Body**: System regular, 16pt\n- **Caption**: System regular, 14pt\n- **Button Text**: System semibold, 14-16pt\n\n### Visual Design\n- **Icons**: Feather icons from @expo/vector-icons\n- **Card Style**: Rounded corners (12-16px), subtle background\n- **Wizard Fields**: White background, rounded (24px), subtle border\n- **Buttons**: \n  - Primary: Red background, white text, rounded\n  - Text: No background, dark or red text\n- **Interactive Feedback**: Scale animation (0.98) + opacity (0.8) on press\n- **Spacing Scale**: xs=4, sm=8, md=12, lg=16, xl=24, 2xl=32, 3xl=40\n\n### Layout Principles\n- Light/white theme throughout\n- Generous spacing - nothing cramped\n- Wizard search section should be prominent and spacious\n- Clean, modern aesthetic\n\n### Accessibility\n- Minimum touch target: 44x44pt\n- Color contrast ratio: 4.5:1 for text\n- Support for Dynamic Type\n- VoiceOver labels on all interactive elements\n","path":null,"size_bytes":4111,"size_tokens":null},"client/screens/DiscoverScreen.tsx":{"content":"import React, { useState, useCallback, useRef, useMemo, useEffect } from \"react\";\nimport {\n  View,\n  StyleSheet,\n  Pressable,\n  Image,\n  Text,\n  Dimensions,\n  LayoutChangeEvent,\n  Platform,\n  Alert,\n} from \"react-native\";\nimport { useAudioRecorder, AudioModule, RecordingPresets } from \"expo-audio\";\nimport * as FileSystem from \"expo-file-system\";\nimport { getApiUrl } from \"@/lib/query-client\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useBottomTabBarHeight } from \"@react-navigation/bottom-tabs\";\nimport { Feather } from \"@expo/vector-icons\";\nimport Animated, {\n  useSharedValue,\n  useAnimatedStyle,\n  useAnimatedScrollHandler,\n  interpolate,\n  Extrapolation,\n  runOnJS,\n} from \"react-native-reanimated\";\n\nimport { useNavigation } from \"@react-navigation/native\";\nimport type { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius, Colors, Fonts } from \"@/constants/theme\";\nimport { useTabBar } from \"@/contexts/TabBarContext\";\nimport { \n  OndeModal, \n  QuandoModal, \n  ComQuemModal,\n  CITIES,\n  DATE_OPTIONS,\n  COMPANION_OPTIONS,\n} from \"@/components/SearchModals\";\nimport type { DiscoverStackParamList } from \"@/navigation/DiscoverStackNavigator\";\n\nconst logoImage = require(\"../../attached_assets/WhatsApp_Image_2025-12-09_at_11.41.04-removebg-preview_1765394422474.png\");\n\nconst { width: SCREEN_WIDTH } = Dimensions.get(\"window\");\nconst CARD_WIDTH = (SCREEN_WIDTH - Spacing.lg * 3) / 2;\nconst SCROLL_THRESHOLD = 100;\n\nconst VIDEO_STORIES_DATA = [\n  {\n    id: \"1\",\n    title: \"Danando com Julia\",\n    username: \"@Alanzinho\",\n    thumbnail: require(\"../../attached_assets/stock_images/person_dancing_happi_798bff4b.jpg\"),\n  },\n  {\n    id: \"2\",\n    title: \"Leve como uma folha\",\n    username: \"@Ivete22\",\n    thumbnail: require(\"../../attached_assets/stock_images/person_dancing_happi_214e72d0.jpg\"),\n  },\n  {\n    id: \"3\",\n    title: \"Na rua  mais legal\",\n    username: \"@LuizaLulu\",\n    thumbnail: require(\"../../attached_assets/stock_images/person_dancing_happi_8c1c5cba.jpg\"),\n  },\n  {\n    id: \"4\",\n    title: \"Ritmo do corao\",\n    username: \"@MarceloDance\",\n    thumbnail: require(\"../../attached_assets/stock_images/person_dancing_happi_0e460040.jpg\"),\n  },\n  {\n    id: \"5\",\n    title: \"Noite de salsa\",\n    username: \"@AnaForr\",\n    thumbnail: require(\"../../attached_assets/stock_images/person_dancing_happi_24afcbbe.jpg\"),\n  },\n  {\n    id: \"6\",\n    title: \"Alegria pura\",\n    username: \"@PedroSamba\",\n    thumbnail: require(\"../../attached_assets/stock_images/person_dancing_happi_dbae0db5.jpg\"),\n  },\n];\n\nconst DESTAQUE_MES_DATA = {\n  title: \"Destaque do ms\",\n  thumbnail: require(\"../../attached_assets/stock_images/person_dancing_happi_798bff4b.jpg\"),\n};\n\nconst TOP_DANCE_AWARDS_DATA = [\n  {\n    id: \"1\",\n    category: \"Categoria 1\",\n    title: \"O que vale  animao\",\n    thumbnail: require(\"../../attached_assets/stock_images/person_dancing_happi_798bff4b.jpg\"),\n  },\n  {\n    id: \"2\",\n    category: \"Categoria 2\",\n    title: \"Baladas badaladas\",\n    thumbnail: require(\"../../attached_assets/stock_images/ballroom_dancing_cou_a3f721af.jpg\"),\n  },\n  {\n    id: \"3\",\n    category: \"Categoria 3\",\n    title: \"Aiquibo a dana de salo\",\n    thumbnail: require(\"../../attached_assets/stock_images/ballroom_dancing_cou_83e25a1a.jpg\"),\n  },\n  {\n    id: \"4\",\n    category: \"Categoria 4\",\n    title: \" samba no p\",\n    thumbnail: require(\"../../attached_assets/stock_images/person_dancing_happi_214e72d0.jpg\"),\n  },\n  {\n    id: \"5\",\n    category: \"Categoria 5\",\n    title: \"Famosos no BoraBailar\",\n    highlightWord: \"BoraBailar\",\n    thumbnail: require(\"../../attached_assets/stock_images/ballroom_dancing_cou_4ebc2182.jpg\"),\n  },\n  {\n    id: \"6\",\n    category: \"Categoria 6\",\n    title: \"Forr p de serra\",\n    thumbnail: require(\"../../attached_assets/stock_images/person_dancing_happi_8c1c5cba.jpg\"),\n  },\n  {\n    id: \"7\",\n    category: \"Categoria 7\",\n    title: \"Zouk love\",\n    thumbnail: require(\"../../attached_assets/stock_images/ballroom_dancing_cou_476ab99c.jpg\"),\n  },\n  {\n    id: \"8\",\n    category: \"Categoria 8\",\n    title: \"Bachata sensual\",\n    thumbnail: require(\"../../attached_assets/stock_images/person_dancing_happi_0e460040.jpg\"),\n  },\n  {\n    id: \"9\",\n    category: \"Categoria 9\",\n    title: \"Tango argentino\",\n    thumbnail: require(\"../../attached_assets/stock_images/ballroom_dancing_cou_7a8e006d.jpg\"),\n  },\n  {\n    id: \"10\",\n    category: \"Categoria 10\",\n    title: \"Danas urbanas\",\n    thumbnail: require(\"../../attached_assets/stock_images/person_dancing_happi_24afcbbe.jpg\"),\n  },\n];\n\nconst QUERER_DATA = [\n  {\n    id: \"1\",\n    title: \"SAIR PARA\\nDANAR\",\n    description: \"sair pra danar e me divertir com algum que tenha a ver comigo, mas sem compromissos.\",\n    image: \"https://images.unsplash.com/photo-1504609813442-a8924e83f76e?w=400&h=300&fit=crop\",\n  },\n  {\n    id: \"2\",\n    title: \"SAIR EM\\nGRUPO\",\n    description: \"sair em grupo para danar e conhecer gente educada e simptica que gosta do que eu gosto.\",\n    image: \"https://images.unsplash.com/photo-1529156069898-49953e39b3ac?w=400&h=300&fit=crop\",\n  },\n  {\n    id: \"3\",\n    title: \"MELHORES\\nBALADAS\",\n    description: \"sair em grupo para danar e conhecer gente educada e simptica que gosta do que eu gosto.\",\n    image: \"https://images.unsplash.com/photo-1566737236500-c8ac43014a67?w=400&h=300&fit=crop\",\n  },\n  {\n    id: \"4\",\n    title: \"GENTE\\nPROFISSA\",\n    description: \"conhecer profissionais que sejam boa companhia e me levem para danar.\",\n    image: \"https://images.unsplash.com/photo-1545959570-a94084071b5d?w=400&h=300&fit=crop\",\n  },\n  {\n    id: \"5\",\n    title: \"ESCOLAS\\nDE DANA\",\n    description: \"conhecer profissionais que sejam boa companhia e me levem para danar.\",\n    image: \"https://images.unsplash.com/photo-1508700929628-666bc8bd84ea?w=400&h=300&fit=crop\",\n  },\n  {\n    id: \"6\",\n    title: \"ESCOLHA\\nSUA TRIBO\",\n    description: \"participar de comunidades de gente que ama danar e se divertir de forma sadia e feliz.\",\n    image: \"https://images.unsplash.com/photo-1517457373958-b7bdd4587205?w=400&h=300&fit=crop\",\n  },\n  {\n    id: \"7\",\n    title: \"BORABAILAR\\nTOP 10\",\n    description: \"poder receber e mandar contedo para votar e ser votado no BB TOP 10 AWARD\",\n    image: \"https://images.unsplash.com/photo-1518611012118-696072aa579a?w=400&h=300&fit=crop\",\n  },\n  {\n    id: \"8\",\n    title: \"FULL\\nEXPERIENCE\",\n    description: \"participar de eventos integrados de DANA, GASTRONOMIA e CONFRATERNIZAO.\",\n    image: \"https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?w=400&h=300&fit=crop\",\n  },\n];\n\nconst getDicasDaSemanaData = () => {\n  const today = new Date();\n  const dayOfWeek = today.getDay();\n  const mondayOffset = dayOfWeek === 0 ? -6 : 1 - dayOfWeek;\n  const monday = new Date(today);\n  monday.setDate(today.getDate() + mondayOffset);\n\n  const daysOfWeek = [\n    \"Segunda-feira\",\n    \"Tera-feira\", \n    \"Quarta-feira\",\n    \"Quinta-feira\",\n    \"Sexta-feira\",\n    \"Sbado\",\n    \"Domingo\",\n  ];\n\n  const dicasPorDia = [\n    [\n      { title: \"Caf da manh com msica\", price: \"R$20\" },\n      { title: \"Almoo gostoso na Lapa\", price: \"R$0\" },\n      { title: \"Sarau no Centro da Cidade\", price: \"R$0\" },\n    ],\n    [\n      { title: \"Aula de forr\", price: \"R$30\" },\n      { title: \"Happy hour danante\", price: \"R$25\" },\n      { title: \"Noite de samba\", price: \"R$15\" },\n    ],\n    [\n      { title: \"Workshop de salsa\", price: \"R$40\" },\n      { title: \"Tarde de bolero\", price: \"R$10\" },\n      { title: \"Baile de quarta\", price: \"R$20\" },\n    ],\n    [\n      { title: \"Zouk na praa\", price: \"R$0\" },\n      { title: \"Jantar com show\", price: \"R$80\" },\n      { title: \"Roda de samba\", price: \"R$15\" },\n    ],\n    [\n      { title: \"Sexta social\", price: \"R$35\" },\n      { title: \"Balada latina\", price: \"R$50\" },\n      { title: \"Forr p de serra\", price: \"R$25\" },\n    ],\n    [\n      { title: \"Matin danante\", price: \"R$20\" },\n      { title: \"Festival de dana\", price: \"R$60\" },\n      { title: \"Noitada especial\", price: \"R$45\" },\n    ],\n    [\n      { title: \"Brunch com msica\", price: \"R$55\" },\n      { title: \"Tarde de tango\", price: \"R$30\" },\n      { title: \"Sunset dance\", price: \"R$25\" },\n    ],\n  ];\n\n  return daysOfWeek.slice(0, 7).map((day, index) => {\n    const date = new Date(monday);\n    date.setDate(monday.getDate() + index);\n    const formattedDate = `${String(date.getDate()).padStart(2, \"0\")}/${String(date.getMonth() + 1).padStart(2, \"0\")}`;\n    \n    return {\n      id: String(index + 1),\n      day,\n      date: formattedDate,\n      dicas: dicasPorDia[index],\n    };\n  });\n};\n\nconst DICAS_DA_SEMANA_DATA = getDicasDaSemanaData();\n\nconst RECOMENDACOES_ESPECIAIS_DATA = [\n  {\n    id: \"1\",\n    title: \"Festa de Halloween\",\n    price: \"R$50\",\n    discount: \"40% OFF\",\n    image: \"https://images.unsplash.com/photo-1504196606672-aef5c9cefc92?w=300&h=200&fit=crop\",\n  },\n  {\n    id: \"2\",\n    title: \"Festival de dana RJ\",\n    price: \"R$100\",\n    discount: \"20% OFF\",\n    image: \"https://images.unsplash.com/photo-1514525253161-7a46d19cd819?w=300&h=200&fit=crop\",\n  },\n  {\n    id: \"3\",\n    title: \"Noite de Salsa\",\n    price: \"R$35\",\n    discount: \"30% OFF\",\n    image: \"https://images.unsplash.com/photo-1545959570-a94084071b5d?w=300&h=200&fit=crop\",\n  },\n  {\n    id: \"4\",\n    title: \"Baile Tropical\",\n    price: \"R$60\",\n    discount: \"25% OFF\",\n    image: \"https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?w=300&h=200&fit=crop\",\n  },\n  {\n    id: \"5\",\n    title: \"Workshop Forr\",\n    price: \"R$80\",\n    discount: \"15% OFF\",\n    image: \"https://images.unsplash.com/photo-1518611012118-696072aa579a?w=300&h=200&fit=crop\",\n  },\n  {\n    id: \"6\",\n    title: \"Pagode da Cidade\",\n    price: \"R$45\",\n    discount: \"50% OFF\",\n    image: \"https://images.unsplash.com/photo-1517457373958-b7bdd4587205?w=300&h=200&fit=crop\",\n  },\n];\n\nconst OFERTA_CARD_WIDTH = 150;\nconst OFERTA_CARD_HEIGHT = 120;\n\nfunction OfertaEspecialCard({\n  title,\n  price,\n  discount,\n  image,\n  onPress,\n  onFavorite,\n}: {\n  title: string;\n  price: string;\n  discount: string;\n  image: string;\n  onPress?: () => void;\n  onFavorite?: () => void;\n}) {\n  return (\n    <Pressable\n      style={({ pressed }) => [\n        styles.ofertaCard,\n        pressed && { opacity: 0.9 },\n      ]}\n      onPress={onPress}\n    >\n      <View style={styles.ofertaImageContainer}>\n        <Image source={{ uri: image }} style={styles.ofertaImage} resizeMode=\"cover\" />\n        <View style={styles.ofertaDiscountBadge}>\n          <Text style={styles.ofertaDiscountText}>{discount}</Text>\n        </View>\n        <Pressable \n          style={styles.ofertaHeartButton} \n          onPress={onFavorite}\n          hitSlop={{ top: 10, bottom: 10, left: 10, right: 10 }}\n        >\n          <Feather name=\"heart\" size={14} color=\"#FFFFFF\" />\n        </Pressable>\n      </View>\n      <Text style={styles.ofertaTitle} numberOfLines={1}>{title}</Text>\n      <Text style={styles.ofertaPrice}>A partir de {price}</Text>\n    </Pressable>\n  );\n}\n\nconst VIDEO_STORY_WIDTH = 100;\nconst VIDEO_STORY_HEIGHT = 140;\n\nfunction VideoStoryCard({\n  title,\n  username,\n  thumbnail,\n  onPress,\n}: {\n  title: string;\n  username: string;\n  thumbnail: any;\n  onPress?: () => void;\n}) {\n  return (\n    <Pressable\n      style={({ pressed }) => [\n        styles.videoStoryCard,\n        pressed && { opacity: 0.8 },\n      ]}\n      onPress={onPress}\n    >\n      <View style={styles.videoStoryImageContainer}>\n        <Image source={thumbnail} style={styles.videoStoryImage} resizeMode=\"cover\" />\n        <View style={styles.videoStoryPlayIcon}>\n          <Feather name=\"play\" size={16} color=\"#FFFFFF\" />\n        </View>\n      </View>\n      <Text style={styles.videoStoryTitle} numberOfLines={2}>{title}</Text>\n      <Text style={styles.videoStoryUsername}>{username}</Text>\n    </Pressable>\n  );\n}\n\nfunction UploadButton({ onPress }: { onPress?: () => void }) {\n  return (\n    <Pressable\n      style={({ pressed }) => [\n        styles.uploadButton,\n        pressed && { opacity: 0.9 },\n      ]}\n      onPress={onPress}\n    >\n      <Text style={styles.uploadButtonText}>Faa upload do seu vdeo</Text>\n    </Pressable>\n  );\n}\n\nfunction DestaqueDoMes({ thumbnail, onPress }: { thumbnail: any; onPress?: () => void }) {\n  return (\n    <Pressable\n      style={({ pressed }) => [\n        styles.destaqueMesCard,\n        pressed && { opacity: 0.9 },\n      ]}\n      onPress={onPress}\n    >\n      <Image source={thumbnail} style={styles.destaqueMesImage} resizeMode=\"cover\" />\n      <View style={styles.destaqueMesPlayOverlay}>\n        <View style={styles.destaqueMesPlayButton}>\n          <Feather name=\"play\" size={32} color=\"#FFFFFF\" />\n        </View>\n      </View>\n    </Pressable>\n  );\n}\n\nfunction AwardCategoryCard({\n  category,\n  title,\n  thumbnail,\n  highlightWord,\n  onPress,\n}: {\n  category: string;\n  title: string;\n  thumbnail: any;\n  highlightWord?: string;\n  onPress?: () => void;\n}) {\n  const renderTitle = () => {\n    if (highlightWord && title.includes(highlightWord)) {\n      const parts = title.split(highlightWord);\n      return (\n        <Text style={styles.awardCategoryTitle}>\n          {parts[0]}\n          <Text style={styles.awardCategoryHighlight}>{highlightWord}</Text>\n          {parts[1]}\n        </Text>\n      );\n    }\n    return <Text style={styles.awardCategoryTitle}>{title}</Text>;\n  };\n\n  return (\n    <Pressable\n      style={({ pressed }) => [\n        styles.awardCategoryCard,\n        pressed && { opacity: 0.8 },\n      ]}\n      onPress={onPress}\n    >\n      <View style={styles.awardCategoryContent}>\n        <Text style={styles.awardCategoryNumber}>{category}</Text>\n        {renderTitle()}\n      </View>\n      <Image source={thumbnail} style={styles.awardCategoryThumbnail} resizeMode=\"cover\" />\n    </Pressable>\n  );\n}\n\nfunction QueroParticiparButton({ onPress }: { onPress?: () => void }) {\n  return (\n    <Pressable\n      style={({ pressed }) => [\n        styles.queroParticiparButton,\n        pressed && { opacity: 0.9 },\n      ]}\n      onPress={onPress}\n    >\n      <Text style={styles.queroParticiparButtonText}>Quero Participar</Text>\n    </Pressable>\n  );\n}\n\nconst DICA_IMAGES = [\n  require(\"../../attached_assets/stock_images/person_dancing_happi_798bff4b.jpg\"),\n  require(\"../../attached_assets/stock_images/ballroom_dancing_cou_a3f721af.jpg\"),\n  require(\"../../attached_assets/stock_images/ballroom_dancing_cou_83e25a1a.jpg\"),\n];\n\nconst DICA_EVENT_CARD_WIDTH = 100;\n\nfunction DicaDaSemanaRow({\n  day,\n  date,\n  dicas,\n}: {\n  day: string;\n  date: string;\n  dicas: { title: string; price: string }[];\n}) {\n  return (\n    <View style={styles.dicaDaSemanaRow}>\n      <View style={styles.dicaDayHeader}>\n        <Text style={styles.dicaDayName}>{day}</Text>\n        <Text style={styles.dicaDate}>({date})</Text>\n      </View>\n      <Animated.ScrollView\n        horizontal\n        showsHorizontalScrollIndicator={false}\n        contentContainerStyle={styles.dicasEventScrollContainer}\n      >\n        {dicas.map((dica, index) => (\n          <Pressable \n            key={index} \n            style={({ pressed }) => [\n              styles.dicaEventCard,\n              pressed && { opacity: 0.8 },\n            ]}\n          >\n            <Image \n              source={DICA_IMAGES[index % DICA_IMAGES.length]} \n              style={styles.dicaEventImage} \n              resizeMode=\"cover\"\n            />\n            <Text style={styles.dicaEventTitle} numberOfLines={2}>{dica.title}</Text>\n            <Text style={styles.dicaEventPrice}>\n              A partir de {dica.price === \"R$0\" ? \"R$0\" : dica.price}\n            </Text>\n          </Pressable>\n        ))}\n      </Animated.ScrollView>\n    </View>\n  );\n}\n\nfunction ChevronUpDownIcon() {\n  return (\n    <View style={styles.chevronIconContainer}>\n      <Feather name=\"chevron-up\" size={14} color={Colors.dark.textSecondary} style={{ marginBottom: -5 }} />\n      <Feather name=\"chevron-down\" size={14} color={Colors.dark.textSecondary} style={{ marginTop: -5 }} />\n    </View>\n  );\n}\n\nfunction MicrophoneIcon() {\n  return (\n    <View style={styles.micIconContainer}>\n      <Feather name=\"mic\" size={22} color=\"#FFFFFF\" />\n    </View>\n  );\n}\n\nfunction WizardSearchField({\n  label,\n  type,\n  onPress,\n  hasValue = false,\n}: {\n  label: string;\n  type: \"chevron\" | \"mic\";\n  onPress?: () => void;\n  hasValue?: boolean;\n}) {\n  return (\n    <Pressable\n      style={({ pressed }) => [\n        styles.wizardField,\n        hasValue && styles.wizardFieldSelected,\n        pressed && styles.wizardFieldPressed,\n      ]}\n      onPress={onPress}\n    >\n      <Text style={[styles.wizardFieldLabel, hasValue && styles.wizardFieldLabelSelected]}>\n        {label}\n      </Text>\n      {type === \"chevron\" ? <ChevronUpDownIcon /> : <MicrophoneIcon />}\n    </Pressable>\n  );\n}\n\nfunction CollapsedSearchBar({ onPress }: { onPress?: () => void }) {\n  return (\n    <Pressable\n      style={({ pressed }) => [\n        styles.collapsedSearchBar,\n        pressed && styles.wizardFieldPressed,\n      ]}\n      onPress={onPress}\n    >\n      <Feather name=\"search\" size={18} color={Colors.dark.textSecondary} />\n      <Text style={styles.collapsedSearchText}>Onde, quando e com quem?</Text>\n    </Pressable>\n  );\n}\n\nfunction StickyTitle({ title, highlightWords }: { title: string; highlightWords: readonly string[] }) {\n  const words = title.split(\" \");\n  \n  return (\n    <View style={styles.stickySectionTitleContainer}>\n      <Text style={styles.stickySectionTitle}>\n        {words.map((word, index) => {\n          const isHighlight = highlightWords.some(hw => \n            word.toLowerCase().includes(hw.toLowerCase())\n          );\n          return (\n            <Text key={index}>\n              {isHighlight ? (\n                <Text style={styles.sectionTitleHighlight}>{word}</Text>\n              ) : (\n                word\n              )}\n              {index < words.length - 1 ? \" \" : \"\"}\n            </Text>\n          );\n        })}\n      </Text>\n    </View>\n  );\n}\n\nfunction QuererCard({\n  title,\n  description,\n  image,\n  onPress,\n  onFavorite,\n}: {\n  title: string;\n  description: string;\n  image: string;\n  onPress?: () => void;\n  onFavorite?: () => void;\n}) {\n  return (\n    <Pressable style={styles.quererCard} onPress={onPress}>\n      <View style={styles.quererImageContainer}>\n        <Image source={{ uri: image }} style={styles.quererImage} />\n        <View style={styles.quererOverlay} />\n        <Text style={styles.quererTitle}>{title}</Text>\n        <Pressable style={styles.quererHeart} onPress={onFavorite}>\n          <View style={styles.heartCircle}>\n            <Feather name=\"heart\" size={16} color=\"#FFFFFF\" />\n          </View>\n        </Pressable>\n      </View>\n      <View style={styles.quererContent}>\n        <Text style={styles.quererDescription}>\n          <Text style={styles.queroPrefix}>QUERO </Text>\n          {description}\n        </Text>\n      </View>\n    </Pressable>\n  );\n}\n\nconst SECTIONS = {\n  querer: { title: \"O seu querer  que faz acontecer\", highlightWords: [\"querer\", \"acontecer\"] },\n  momento: { title: \"Momento dana  momento feliz\", highlightWords: [\"dana\", \"feliz\"] },\n  awards: { title: \"BORABAILAR TOP DANCE AWARDS\", highlightWords: [\"BORABAILAR\"] },\n  dicas: { title: \"Dicas da semana\", highlightWords: [\"semana\"] },\n  recomendacoes: { title: \"Recomendaes especiais\", highlightWords: [] },\n} as const;\n\ntype SectionKey = keyof typeof SECTIONS;\n\nexport default function DiscoverScreen() {\n  const insets = useSafeAreaInsets();\n  const tabBarHeight = useBottomTabBarHeight();\n  const { theme } = useTheme();\n  const { isTabBarVisible } = useTabBar();\n  const navigation = useNavigation<NativeStackNavigationProp<DiscoverStackParamList>>();\n  \n  const scrollY = useSharedValue(0);\n  const previousScrollY = useSharedValue(0);\n  const scrollDirection = useSharedValue<\"up\" | \"down\" | \"idle\">(\"idle\");\n  const [currentSectionKey, setCurrentSectionKey] = useState<SectionKey | null>(null);\n  const currentSectionRef = useRef<SectionKey | null>(null);\n  const stickyHeaderHeightRef = useRef(0);\n  const sectionOffsetsRef = useRef<Record<SectionKey, number>>({\n    querer: 0,\n    momento: 0,\n    awards: 0,\n    dicas: 0,\n    recomendacoes: 0,\n  });\n\n  const [ondeModalVisible, setOndeModalVisible] = useState(false);\n  const [quandoModalVisible, setQuandoModalVisible] = useState(false);\n  const [comQuemModalVisible, setComQuemModalVisible] = useState(false);\n  \n  const [selectedCity, setSelectedCity] = useState<typeof CITIES[0] | null>(null);\n  const [selectedDate, setSelectedDate] = useState<typeof DATE_OPTIONS[0] | null>(null);\n  const [selectedCompanion, setSelectedCompanion] = useState<typeof COMPANION_OPTIONS[0] | null>(null);\n  \n  const [isRecording, setIsRecording] = useState(false);\n  const [isTranscribing, setIsTranscribing] = useState(false);\n  const [transcript, setTranscript] = useState(\"\");\n  const [pendingTranscription, setPendingTranscription] = useState(false);\n  \n  const audioRecorder = useAudioRecorder(RecordingPresets.HIGH_QUALITY);\n  \n  useEffect(() => {\n    (async () => {\n      if (Platform.OS !== \"web\") {\n        const status = await AudioModule.requestRecordingPermissionsAsync();\n        if (!status.granted) {\n          console.log(\"Audio recording permission not granted\");\n        }\n      }\n    })();\n  }, []);\n\n  const transcribeAudio = useCallback(async (audioUri: string) => {\n    try {\n      setIsTranscribing(true);\n      \n      const base64Audio = await FileSystem.readAsStringAsync(audioUri, {\n        encoding: \"base64\" as const,\n      });\n      \n      const apiUrl = getApiUrl();\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 30000);\n      \n      const response = await fetch(new URL(\"/api/transcribe\", apiUrl).toString(), {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          audio: base64Audio,\n          filename: \"recording.m4a\",\n        }),\n        signal: controller.signal,\n      });\n      \n      clearTimeout(timeoutId);\n      \n      if (!response.ok) {\n        throw new Error(\"Transcription failed\");\n      }\n      \n      const data = await response.json();\n      setTranscript(data.text || \"\");\n    } catch (error: any) {\n      console.error(\"Transcription error:\", error);\n      const message = error.name === \"AbortError\" \n        ? \"A transcrio demorou muito. Tente novamente.\" \n        : \"No foi possvel transcrever o udio. Tente novamente.\";\n      Alert.alert(\"Erro na transcrio\", message, [{ text: \"OK\" }]);\n    } finally {\n      setIsTranscribing(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (pendingTranscription && !audioRecorder.isRecording && audioRecorder.uri) {\n      setPendingTranscription(false);\n      transcribeAudio(audioRecorder.uri);\n    }\n  }, [pendingTranscription, audioRecorder.isRecording, audioRecorder.uri, transcribeAudio]);\n\n  const handleMicPress = useCallback(async () => {\n    if (Platform.OS === \"web\") {\n      Alert.alert(\n        \"Funcionalidade indisponvel\",\n        \"O reconhecimento de voz funciona apenas no aplicativo Expo Go. Escaneie o QR code para testar no seu celular.\",\n        [{ text: \"OK\" }]\n      );\n      return;\n    }\n    \n    if (isTranscribing) {\n      return;\n    }\n    \n    try {\n      if (audioRecorder.isRecording) {\n        setPendingTranscription(true);\n        await audioRecorder.stop();\n        setIsRecording(false);\n      } else {\n        setTranscript(\"\");\n        setPendingTranscription(false);\n        await audioRecorder.record();\n        setIsRecording(true);\n      }\n    } catch (error) {\n      console.error(\"Recording error:\", error);\n      setIsRecording(false);\n      setPendingTranscription(false);\n      Alert.alert(\n        \"Erro na gravao\",\n        \"No foi possvel gravar o udio. Verifique as permisses do microfone.\",\n        [{ text: \"OK\" }]\n      );\n    }\n  }, [audioRecorder, isTranscribing]);\n\n  const handleSearch = useCallback(() => {\n    const hasFilters = selectedCity || selectedDate || selectedCompanion || transcript;\n    \n    if (!hasFilters) {\n      Alert.alert(\n        \"Selecione filtros\",\n        \"Escolha pelo menos um filtro para buscar eventos.\",\n        [{ text: \"OK\" }]\n      );\n      return;\n    }\n    \n    const searchQuery = transcript || (selectedCompanion ? selectedCompanion.label : undefined);\n    \n    navigation.navigate(\"SearchResults\", {\n      city: selectedCity?.name,\n      date: selectedDate?.id,\n      query: searchQuery,\n    });\n  }, [navigation, selectedCity, selectedDate, selectedCompanion, transcript]);\n\n  const updateCurrentSection = useCallback((scrollPosition: number) => {\n    const headerOffset = stickyHeaderHeightRef.current || 150;\n    let newSection: SectionKey | null = null;\n    \n    if (scrollPosition < SCROLL_THRESHOLD) {\n      newSection = null;\n    } else {\n      const offsets = sectionOffsetsRef.current;\n      const orderedSections: SectionKey[] = [\"querer\", \"momento\", \"awards\", \"dicas\", \"recomendacoes\"];\n      \n      for (let i = orderedSections.length - 1; i >= 0; i--) {\n        const sectionKey = orderedSections[i];\n        const sectionY = offsets[sectionKey];\n        if (sectionY > 0 && scrollPosition >= sectionY - headerOffset) {\n          newSection = sectionKey;\n          break;\n        }\n      }\n      \n      if (!newSection && scrollPosition >= SCROLL_THRESHOLD) {\n        newSection = \"querer\";\n      }\n    }\n    \n    if (newSection !== currentSectionRef.current) {\n      currentSectionRef.current = newSection;\n      setCurrentSectionKey(newSection);\n    }\n  }, []);\n\n  const scrollHandler = useAnimatedScrollHandler({\n    onScroll: (event) => {\n      const currentY = event.contentOffset.y;\n      scrollY.value = currentY;\n      runOnJS(updateCurrentSection)(currentY);\n      \n      const diff = currentY - previousScrollY.value;\n      const threshold = 10;\n      \n      if (currentY <= 0) {\n        isTabBarVisible.value = true;\n      } else if (diff > threshold) {\n        isTabBarVisible.value = false;\n        scrollDirection.value = \"down\";\n      } else if (diff < -threshold) {\n        isTabBarVisible.value = true;\n        scrollDirection.value = \"up\";\n      }\n      \n      previousScrollY.value = currentY;\n    },\n  });\n\n  const handleStickyHeaderLayout = useCallback((event: LayoutChangeEvent) => {\n    const { height } = event.nativeEvent.layout;\n    stickyHeaderHeightRef.current = height;\n  }, []);\n\n  const createSectionLayoutHandler = useCallback((sectionKey: SectionKey) => {\n    return (event: LayoutChangeEvent) => {\n      const { y } = event.nativeEvent.layout;\n      sectionOffsetsRef.current[sectionKey] = y;\n    };\n  }, []);\n\n  const handleQuererLayout = useMemo(() => createSectionLayoutHandler(\"querer\"), [createSectionLayoutHandler]);\n  const handleMomentoLayout = useMemo(() => createSectionLayoutHandler(\"momento\"), [createSectionLayoutHandler]);\n  const handleAwardsLayout = useMemo(() => createSectionLayoutHandler(\"awards\"), [createSectionLayoutHandler]);\n  const handleDicasLayout = useMemo(() => createSectionLayoutHandler(\"dicas\"), [createSectionLayoutHandler]);\n  const handleRecomendacoesLayout = useMemo(() => createSectionLayoutHandler(\"recomendacoes\"), [createSectionLayoutHandler]);\n\n  const currentSection = currentSectionKey ? SECTIONS[currentSectionKey] : null;\n\n  const heroAnimatedStyle = useAnimatedStyle(() => {\n    const opacity = interpolate(\n      scrollY.value,\n      [0, SCROLL_THRESHOLD],\n      [1, 0],\n      Extrapolation.CLAMP\n    );\n    const scale = interpolate(\n      scrollY.value,\n      [0, SCROLL_THRESHOLD],\n      [1, 0.8],\n      Extrapolation.CLAMP\n    );\n    const translateY = interpolate(\n      scrollY.value,\n      [0, SCROLL_THRESHOLD],\n      [0, -50],\n      Extrapolation.CLAMP\n    );\n    return {\n      opacity,\n      transform: [{ scale }, { translateY }],\n    };\n  });\n\n  const expandedWizardStyle = useAnimatedStyle(() => {\n    const opacity = interpolate(\n      scrollY.value,\n      [0, SCROLL_THRESHOLD * 0.5],\n      [1, 0],\n      Extrapolation.CLAMP\n    );\n    return {\n      opacity,\n    };\n  });\n\n  const collapsedWizardStyle = useAnimatedStyle(() => {\n    const opacity = interpolate(\n      scrollY.value,\n      [SCROLL_THRESHOLD * 0.3, SCROLL_THRESHOLD * 0.7],\n      [0, 1],\n      Extrapolation.CLAMP\n    );\n    return {\n      opacity,\n    };\n  });\n\n  const stickyHeaderStyle = useAnimatedStyle(() => {\n    const translateY = interpolate(\n      scrollY.value,\n      [0, SCROLL_THRESHOLD],\n      [-100, 0],\n      Extrapolation.CLAMP\n    );\n    return {\n      transform: [{ translateY }],\n    };\n  });\n\n  const stickyTitleStyle = useAnimatedStyle(() => {\n    const opacity = interpolate(\n      scrollY.value,\n      [SCROLL_THRESHOLD * 0.8, SCROLL_THRESHOLD],\n      [0, 1],\n      Extrapolation.CLAMP\n    );\n    return {\n      opacity,\n    };\n  });\n\n  const authButtonsStyle = useAnimatedStyle(() => {\n    const opacity = interpolate(\n      scrollY.value,\n      [0, SCROLL_THRESHOLD * 0.5],\n      [1, 0],\n      Extrapolation.CLAMP\n    );\n    return {\n      opacity,\n      pointerEvents: scrollY.value > SCROLL_THRESHOLD * 0.3 ? \"none\" : \"auto\",\n    } as any;\n  });\n\n  const bellButtonStyle = useAnimatedStyle(() => {\n    const opacity = interpolate(\n      scrollY.value,\n      [SCROLL_THRESHOLD * 0.3, SCROLL_THRESHOLD * 0.7],\n      [0, 1],\n      Extrapolation.CLAMP\n    );\n    return {\n      opacity,\n      pointerEvents: scrollY.value < SCROLL_THRESHOLD * 0.5 ? \"none\" : \"auto\",\n    } as any;\n  });\n\n  const handleSignUp = useCallback(() => {\n    navigation.navigate(\"SignUp\");\n  }, [navigation]);\n\n  return (\n    <View style={[styles.container, { backgroundColor: theme.backgroundRoot }]}>\n      <Animated.View style={[styles.topHeader, { paddingTop: insets.top }, authButtonsStyle]}>\n        <Pressable style={styles.authButton} onPress={handleSignUp}>\n          <Text style={styles.authButtonText}>SIGN UP</Text>\n        </Pressable>\n        \n        <View style={styles.topHeaderSpacer} />\n        \n        <Pressable style={styles.authButton}>\n          <Text style={styles.authButtonText}>LOG IN</Text>\n        </Pressable>\n      </Animated.View>\n\n      <Animated.View \n        style={[styles.stickyHeader, stickyHeaderStyle, { paddingTop: insets.top }]}\n        onLayout={handleStickyHeaderLayout}\n      >\n        <View style={styles.stickyHeaderRow}>\n          <View style={styles.stickyHeaderContent}>\n            <Image source={logoImage} style={styles.stickyLogo} resizeMode=\"contain\" />\n            <Text style={styles.stickyBrandName}>\n              <Text style={styles.brandRed}>B</Text>\n              <Text style={styles.brandGray}>ORA</Text>\n              <Text style={styles.brandRed}>B</Text>\n              <Text style={styles.brandGray}>AILAR</Text>\n            </Text>\n          </View>\n          <Pressable style={styles.stickyBellButton}>\n            <Feather name=\"bell\" size={22} color={Colors.dark.textSecondary} />\n          </Pressable>\n        </View>\n        <Animated.View style={[styles.collapsedWizardContainer, collapsedWizardStyle]}>\n          <CollapsedSearchBar />\n        </Animated.View>\n        {currentSection ? (\n          <Animated.View style={[styles.stickyTitleWrapper, stickyTitleStyle]}>\n            <StickyTitle \n              title={currentSection.title} \n              highlightWords={currentSection.highlightWords} \n            />\n          </Animated.View>\n        ) : null}\n      </Animated.View>\n\n      <Animated.ScrollView\n        style={styles.scrollView}\n        contentContainerStyle={{\n          paddingTop: insets.top + 40,\n          paddingBottom: tabBarHeight + Spacing.xl,\n        }}\n        scrollIndicatorInsets={{ bottom: insets.bottom }}\n        showsVerticalScrollIndicator={false}\n        onScroll={scrollHandler}\n        scrollEventThrottle={16}\n      >\n        <Animated.View style={[styles.heroSection, heroAnimatedStyle]}>\n          <Image\n            source={logoImage}\n            style={styles.logo}\n            resizeMode=\"contain\"\n          />\n\n          <Text style={styles.brandName}>\n            <Text style={styles.brandRed}>B</Text>\n            <Text style={styles.brandGray}>ORA</Text>\n            <Text style={styles.brandRed}>B</Text>\n            <Text style={styles.brandGray}>AILAR</Text>\n          </Text>\n\n          <Text style={styles.tagline}>PRA SAIR, DANAR E SE DIVERTIR!</Text>\n        </Animated.View>\n\n        <Animated.View style={[styles.wizardSection, expandedWizardStyle]}>\n          <View style={styles.wizardContainer}>\n            <WizardSearchField \n              label={selectedCity ? selectedCity.name : \"Onde\"} \n              type=\"chevron\" \n              onPress={() => setOndeModalVisible(true)}\n              hasValue={!!selectedCity}\n            />\n            <WizardSearchField \n              label={selectedDate ? selectedDate.label : \"Quando\"} \n              type=\"chevron\" \n              onPress={() => setQuandoModalVisible(true)}\n              hasValue={!!selectedDate}\n            />\n            <WizardSearchField \n              label={selectedCompanion ? selectedCompanion.label : \"Com quem\"} \n              type=\"mic\" \n              onPress={() => setComQuemModalVisible(true)}\n              hasValue={!!selectedCompanion}\n            />\n            \n            <View style={styles.helperTextContainer}>\n              <Text style={styles.helperText}>\n                 s{\" \"}\n                <Text style={styles.helperHighlight}>falar</Text>\n                {\" \"}que a gente te{\" \"}\n                <Text style={styles.helperHighlight}>entende</Text>!\n              </Text>\n            </View>\n          </View>\n        </Animated.View>\n\n        <View style={styles.quererSection} onLayout={handleQuererLayout}>\n          <Text style={styles.sectionTitle}>\n            O seu{\" \"}\n            <Text style={styles.sectionTitleHighlight}>querer</Text>\n            {\" \"} que faz{\" \"}\n            <Text style={styles.sectionTitleHighlight}>acontecer</Text>\n          </Text>\n          \n          <View style={styles.quererGrid}>\n            {QUERER_DATA.map((item) => (\n              <QuererCard\n                key={item.id}\n                title={item.title}\n                description={item.description}\n                image={item.image}\n              />\n            ))}\n          </View>\n        </View>\n\n        <View style={styles.momentoSection} onLayout={handleMomentoLayout}>\n          <Text style={styles.momentoTitle}>\n            Momento{\" \"}\n            <Text style={styles.sectionTitleHighlight}>dana</Text>\n            {\" \"} momento{\" \"}\n            <Text style={styles.sectionTitleHighlight}>feliz</Text>\n          </Text>\n          \n          <Animated.ScrollView\n            horizontal\n            showsHorizontalScrollIndicator={false}\n            contentContainerStyle={styles.videoStoriesContainer}\n          >\n            {VIDEO_STORIES_DATA.map((story) => (\n              <VideoStoryCard\n                key={story.id}\n                title={story.title}\n                username={story.username}\n                thumbnail={story.thumbnail}\n              />\n            ))}\n          </Animated.ScrollView>\n          \n          <UploadButton />\n          \n          <Text style={styles.destaqueMesTitle}>Destaque do ms</Text>\n          <DestaqueDoMes thumbnail={DESTAQUE_MES_DATA.thumbnail} />\n        </View>\n        \n        <View style={styles.topDanceAwardsSection} onLayout={handleAwardsLayout}>\n          <Text style={styles.topDanceAwardsTitle}>\n            <Text style={styles.topDanceAwardsBrand}>BORABAILAR</Text>\n            {\"\\n\"}TOP DANCE AWARDS\n          </Text>\n          \n          <QueroParticiparButton />\n          \n          <View style={styles.awardCategoriesList}>\n            {TOP_DANCE_AWARDS_DATA.map((item) => (\n              <AwardCategoryCard\n                key={item.id}\n                category={item.category}\n                title={item.title}\n                thumbnail={item.thumbnail}\n                highlightWord={(item as any).highlightWord}\n              />\n            ))}\n          </View>\n        </View>\n\n        <View style={styles.dicasDaSemanaSection} onLayout={handleDicasLayout}>\n          <Text style={styles.dicasDaSemanaTitle}>\n            Dicas da{\" \"}\n            <Text style={styles.sectionTitleHighlight}>semana</Text>\n          </Text>\n          <View style={styles.dicasDaSemanaList}>\n            {DICAS_DA_SEMANA_DATA.map((item) => (\n              <DicaDaSemanaRow\n                key={item.id}\n                day={item.day}\n                date={item.date}\n                dicas={item.dicas}\n              />\n            ))}\n          </View>\n        </View>\n\n        <View style={styles.recomendacoesSection} onLayout={handleRecomendacoesLayout}>\n          <Text style={styles.recomendacoesTitle}>Recomendaes especiais</Text>\n          <Animated.ScrollView\n            horizontal\n            showsHorizontalScrollIndicator={false}\n            contentContainerStyle={styles.recomendacoesContainer}\n          >\n            {RECOMENDACOES_ESPECIAIS_DATA.map((item) => (\n              <OfertaEspecialCard\n                key={item.id}\n                title={item.title}\n                price={item.price}\n                discount={item.discount}\n                image={item.image}\n              />\n            ))}\n          </Animated.ScrollView>\n        </View>\n        \n        <View style={{ height: tabBarHeight + Spacing.xl }} />\n      </Animated.ScrollView>\n\n      <OndeModal\n        visible={ondeModalVisible}\n        onClose={() => setOndeModalVisible(false)}\n        onSelect={setSelectedCity}\n        selectedCity={selectedCity}\n      />\n      \n      <QuandoModal\n        visible={quandoModalVisible}\n        onClose={() => setQuandoModalVisible(false)}\n        onSelect={setSelectedDate}\n        selectedOption={selectedDate}\n      />\n      \n      <ComQuemModal\n        visible={comQuemModalVisible}\n        onClose={() => setComQuemModalVisible(false)}\n        onSelect={setSelectedCompanion}\n        selectedOption={selectedCompanion}\n        onMicPress={handleMicPress}\n        isRecording={isRecording}\n        isTranscribing={isTranscribing}\n        transcript={transcript}\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  topHeader: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    right: 0,\n    zIndex: 200,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    paddingHorizontal: Spacing.lg,\n    paddingBottom: Spacing.sm,\n    backgroundColor: \"transparent\",\n  },\n  authButtonsContainer: {\n    minWidth: 60,\n  },\n  authButton: {\n    paddingVertical: Spacing.xs,\n    paddingHorizontal: Spacing.sm,\n  },\n  authButtonText: {\n    fontSize: 12,\n    fontWeight: \"600\",\n    color: Colors.dark.brand,\n    letterSpacing: 0.5,\n  },\n  topHeaderSpacer: {\n    flex: 1,\n  },\n  stickyHeader: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    right: 0,\n    zIndex: 100,\n    backgroundColor: \"#FFFFFF\",\n    paddingHorizontal: Spacing.lg,\n    paddingBottom: Spacing.md,\n    borderBottomWidth: 1,\n    borderBottomColor: \"#F0F0F0\",\n  },\n  stickyHeaderRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginBottom: Spacing.sm,\n  },\n  stickyHeaderContent: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    flex: 1,\n    justifyContent: \"center\",\n    gap: Spacing.sm,\n  },\n  stickyBellButton: {\n    padding: Spacing.xs,\n    position: \"absolute\",\n    right: 0,\n  },\n  stickyLogo: {\n    width: 48,\n    height: 36,\n  },\n  stickyBrandName: {\n    fontSize: 24,\n    fontFamily: Fonts?.serif,\n    letterSpacing: 1.5,\n  },\n  collapsedWizardContainer: {\n    marginTop: Spacing.xs,\n  },\n  collapsedSearchBar: {\n    backgroundColor: \"#F5F5F5\",\n    borderRadius: 25,\n    paddingVertical: Spacing.md,\n    paddingHorizontal: Spacing.lg,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: Spacing.sm,\n  },\n  collapsedSearchText: {\n    fontSize: 15,\n    color: Colors.dark.textSecondary,\n    fontWeight: \"400\",\n  },\n  stickyTitleWrapper: {\n    marginTop: Spacing.sm,\n  },\n  stickySectionTitleContainer: {\n    paddingVertical: Spacing.xs,\n  },\n  stickySectionTitle: {\n    fontSize: 16,\n    color: Colors.dark.text,\n  },\n  heroSection: {\n    alignItems: \"center\",\n    paddingTop: Spacing.lg,\n    paddingBottom: Spacing.xl,\n    paddingHorizontal: Spacing.lg,\n  },\n  logo: {\n    width: 140,\n    height: 100,\n    marginBottom: Spacing.sm,\n  },\n  brandName: {\n    fontSize: 32,\n    fontFamily: Fonts?.serif,\n    letterSpacing: 2,\n    marginBottom: Spacing.sm,\n  },\n  brandRed: {\n    color: Colors.dark.brand,\n    fontWeight: \"700\",\n  },\n  brandGray: {\n    color: Colors.dark.textSecondary,\n    fontWeight: \"400\",\n  },\n  tagline: {\n    fontSize: 15,\n    fontWeight: \"700\",\n    color: Colors.dark.brand,\n    textAlign: \"center\",\n    letterSpacing: 0.5,\n  },\n  wizardSection: {\n    paddingHorizontal: Spacing.lg,\n  },\n  wizardContainer: {\n    backgroundColor: Colors.dark.wizardBackground,\n    borderRadius: BorderRadius.xl,\n    padding: Spacing.xl,\n    paddingVertical: Spacing.xl + Spacing.lg,\n    gap: Spacing.lg,\n  },\n  wizardField: {\n    backgroundColor: \"#FFFFFF\",\n    borderRadius: 30,\n    paddingVertical: Spacing.lg,\n    paddingHorizontal: Spacing.xl,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n  wizardFieldPressed: {\n    backgroundColor: \"#F9FAFB\",\n  },\n  wizardFieldLabel: {\n    fontSize: 16,\n    color: Colors.dark.textSecondary,\n    fontWeight: \"400\",\n  },\n  wizardFieldSelected: {\n    borderWidth: 1,\n    borderColor: Colors.dark.primary,\n    backgroundColor: Colors.dark.primary + \"10\",\n  },\n  wizardFieldLabelSelected: {\n    color: Colors.dark.primary,\n    fontWeight: \"500\",\n  },\n  chevronIconContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  micIconContainer: {\n    width: 42,\n    height: 42,\n    borderRadius: 21,\n    backgroundColor: Colors.dark.brand,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  searchButton: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: Colors.dark.brand,\n    paddingVertical: Spacing.md,\n    paddingHorizontal: Spacing.xl,\n    borderRadius: BorderRadius.xl,\n    marginTop: Spacing.lg,\n    gap: Spacing.sm,\n  },\n  searchButtonPressed: {\n    opacity: 0.9,\n    transform: [{ scale: 0.98 }],\n  },\n  searchButtonActive: {\n    backgroundColor: Colors.dark.brand,\n  },\n  searchButtonText: {\n    color: \"#FFFFFF\",\n    fontSize: 16,\n    fontWeight: \"600\",\n  },\n  helperTextContainer: {\n    alignItems: \"center\",\n    marginTop: Spacing.md,\n    paddingBottom: Spacing.sm,\n  },\n  helperText: {\n    fontSize: 15,\n    color: Colors.dark.text,\n    textAlign: \"center\",\n  },\n  helperHighlight: {\n    color: Colors.dark.brand,\n    fontWeight: \"700\",\n  },\n  quererSection: {\n    paddingHorizontal: Spacing.lg,\n    marginTop: Spacing.xl + Spacing.xl,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    color: Colors.dark.text,\n    marginBottom: Spacing.lg,\n  },\n  sectionTitleHighlight: {\n    color: Colors.dark.brand,\n    fontWeight: \"700\",\n  },\n  quererGrid: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    gap: Spacing.md,\n    justifyContent: \"space-between\",\n  },\n  quererCard: {\n    width: CARD_WIDTH,\n    marginBottom: Spacing.md,\n  },\n  quererImageContainer: {\n    width: \"100%\",\n    height: CARD_WIDTH * 0.9,\n    borderRadius: BorderRadius.lg,\n    overflow: \"hidden\",\n    position: \"relative\",\n  },\n  quererImage: {\n    width: \"100%\",\n    height: \"100%\",\n  },\n  quererOverlay: {\n    ...StyleSheet.absoluteFillObject,\n    backgroundColor: \"rgba(0,0,0,0.3)\",\n  },\n  quererTitle: {\n    position: \"absolute\",\n    bottom: Spacing.md,\n    left: Spacing.md,\n    right: Spacing.md,\n    fontSize: 16,\n    fontWeight: \"800\",\n    color: \"#FFFFFF\",\n    textShadowColor: \"rgba(0,0,0,0.5)\",\n    textShadowOffset: { width: 0, height: 1 },\n    textShadowRadius: 2,\n  },\n  quererHeart: {\n    position: \"absolute\",\n    top: Spacing.sm,\n    right: Spacing.sm,\n  },\n  heartCircle: {\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    backgroundColor: Colors.dark.brand,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  quererContent: {\n    paddingTop: Spacing.sm,\n  },\n  quererDescription: {\n    fontSize: 13,\n    color: Colors.dark.text,\n    lineHeight: 18,\n  },\n  queroPrefix: {\n    color: Colors.dark.brand,\n    fontWeight: \"700\",\n  },\n  momentoSection: {\n    paddingHorizontal: Spacing.lg,\n    marginTop: Spacing.xl + Spacing.lg,\n  },\n  momentoTitle: {\n    fontSize: 18,\n    color: Colors.dark.text,\n    marginBottom: Spacing.lg,\n  },\n  videoStoriesContainer: {\n    paddingRight: Spacing.lg,\n    gap: Spacing.md,\n  },\n  videoStoryCard: {\n    width: VIDEO_STORY_WIDTH,\n    marginRight: Spacing.xs,\n  },\n  videoStoryImageContainer: {\n    width: VIDEO_STORY_WIDTH,\n    height: VIDEO_STORY_HEIGHT,\n    borderRadius: BorderRadius.lg,\n    overflow: \"hidden\",\n    position: \"relative\",\n  },\n  videoStoryImage: {\n    width: \"100%\",\n    height: \"100%\",\n  },\n  videoStoryPlayIcon: {\n    position: \"absolute\",\n    bottom: Spacing.sm,\n    left: Spacing.sm,\n    width: 28,\n    height: 28,\n    borderRadius: 14,\n    backgroundColor: \"rgba(0,0,0,0.5)\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  videoStoryTitle: {\n    fontSize: 12,\n    color: Colors.dark.text,\n    fontWeight: \"500\",\n    marginTop: Spacing.xs,\n    lineHeight: 16,\n  },\n  videoStoryUsername: {\n    fontSize: 11,\n    color: Colors.dark.textSecondary,\n    marginTop: 2,\n  },\n  uploadButton: {\n    backgroundColor: Colors.dark.wizardBackground,\n    borderRadius: BorderRadius.xl,\n    paddingVertical: Spacing.md,\n    paddingHorizontal: Spacing.lg,\n    marginTop: Spacing.xl,\n    alignItems: \"center\",\n    borderWidth: 1,\n    borderColor: Colors.dark.brand,\n  },\n  uploadButtonText: {\n    fontSize: 14,\n    color: Colors.dark.brand,\n    fontWeight: \"600\",\n  },\n  destaqueMesTitle: {\n    fontSize: 18,\n    color: Colors.dark.text,\n    marginTop: Spacing.xl + Spacing.lg,\n    marginBottom: Spacing.lg,\n  },\n  destaqueMesCard: {\n    width: \"100%\",\n    height: 200,\n    borderRadius: BorderRadius.lg,\n    overflow: \"hidden\",\n    position: \"relative\",\n  },\n  destaqueMesImage: {\n    width: \"100%\",\n    height: \"100%\",\n  },\n  destaqueMesPlayOverlay: {\n    ...StyleSheet.absoluteFillObject,\n    backgroundColor: \"rgba(0,0,0,0.2)\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  destaqueMesPlayButton: {\n    width: 64,\n    height: 64,\n    borderRadius: 32,\n    backgroundColor: \"rgba(0,0,0,0.6)\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  topDanceAwardsSection: {\n    paddingHorizontal: Spacing.lg,\n    marginTop: Spacing.xl + Spacing.lg,\n  },\n  topDanceAwardsTitle: {\n    fontSize: 18,\n    color: Colors.dark.text,\n    textAlign: \"center\",\n    fontWeight: \"600\",\n    lineHeight: 26,\n  },\n  topDanceAwardsBrand: {\n    color: Colors.dark.brand,\n    fontWeight: \"700\",\n    fontSize: 22,\n    letterSpacing: 1,\n  },\n  queroParticiparButton: {\n    backgroundColor: \"#4CAF50\",\n    borderRadius: BorderRadius.xl,\n    paddingVertical: Spacing.md,\n    paddingHorizontal: Spacing.xl,\n    alignItems: \"center\",\n    marginTop: Spacing.lg,\n    marginBottom: Spacing.xl,\n  },\n  queroParticiparButtonText: {\n    fontSize: 15,\n    color: \"#FFFFFF\",\n    fontWeight: \"600\",\n  },\n  awardCategoriesList: {\n    gap: Spacing.md,\n  },\n  awardCategoryCard: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    paddingVertical: Spacing.md,\n    borderBottomWidth: 1,\n    borderBottomColor: \"#F0F0F0\",\n  },\n  awardCategoryContent: {\n    flex: 1,\n    marginRight: Spacing.md,\n  },\n  awardCategoryNumber: {\n    fontSize: 12,\n    color: Colors.dark.textSecondary,\n    marginBottom: Spacing.xs,\n  },\n  awardCategoryTitle: {\n    fontSize: 15,\n    color: Colors.dark.text,\n    fontWeight: \"600\",\n  },\n  awardCategoryHighlight: {\n    color: Colors.dark.brand,\n    fontWeight: \"700\",\n  },\n  awardCategoryThumbnail: {\n    width: 70,\n    height: 50,\n    borderRadius: BorderRadius.md,\n  },\n  dicasDaSemanaSection: {\n    paddingHorizontal: Spacing.lg,\n    marginTop: Spacing.xl + Spacing.lg,\n  },\n  dicasDaSemanaTitle: {\n    fontSize: 18,\n    color: Colors.dark.text,\n    fontWeight: \"600\",\n    marginBottom: Spacing.lg,\n  },\n  dicasDaSemanaList: {\n    gap: Spacing.xl,\n  },\n  dicaDaSemanaRow: {\n    marginBottom: Spacing.md,\n  },\n  dicaDayHeader: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: Spacing.md,\n  },\n  dicaDayName: {\n    fontSize: 16,\n    color: Colors.dark.brand,\n    fontWeight: \"600\",\n  },\n  dicaDate: {\n    fontSize: 14,\n    color: Colors.dark.textSecondary,\n    marginLeft: Spacing.xs,\n  },\n  dicasEventScrollContainer: {\n    gap: Spacing.md,\n    paddingRight: Spacing.lg,\n    marginLeft: -Spacing.lg,\n    paddingLeft: Spacing.lg,\n  },\n  dicaEventCard: {\n    width: DICA_EVENT_CARD_WIDTH,\n  },\n  dicaEventImage: {\n    width: DICA_EVENT_CARD_WIDTH,\n    height: 80,\n    borderRadius: BorderRadius.md,\n    marginBottom: Spacing.xs,\n  },\n  dicaEventTitle: {\n    fontSize: 11,\n    color: Colors.dark.text,\n    fontWeight: \"500\",\n    lineHeight: 14,\n  },\n  dicaEventPrice: {\n    fontSize: 10,\n    color: Colors.dark.textSecondary,\n    marginTop: 2,\n  },\n  recomendacoesSection: {\n    paddingHorizontal: Spacing.lg,\n    marginTop: Spacing.xl + Spacing.lg,\n  },\n  recomendacoesTitle: {\n    fontSize: 18,\n    color: Colors.dark.text,\n    fontWeight: \"600\",\n    marginBottom: Spacing.lg,\n  },\n  recomendacoesContainer: {\n    paddingRight: Spacing.lg,\n    gap: Spacing.md,\n    marginLeft: -Spacing.lg,\n    paddingLeft: Spacing.lg,\n  },\n  ofertaCard: {\n    width: OFERTA_CARD_WIDTH,\n  },\n  ofertaImageContainer: {\n    width: OFERTA_CARD_WIDTH,\n    height: OFERTA_CARD_HEIGHT,\n    borderRadius: BorderRadius.lg,\n    overflow: \"hidden\",\n    position: \"relative\",\n  },\n  ofertaImage: {\n    width: \"100%\",\n    height: \"100%\",\n  },\n  ofertaDiscountBadge: {\n    position: \"absolute\",\n    top: Spacing.sm,\n    left: Spacing.sm,\n    backgroundColor: Colors.dark.brand,\n    paddingHorizontal: Spacing.sm,\n    paddingVertical: Spacing.xs,\n    borderRadius: BorderRadius.sm,\n  },\n  ofertaDiscountText: {\n    color: \"#FFFFFF\",\n    fontSize: 10,\n    fontWeight: \"700\",\n  },\n  ofertaHeartButton: {\n    position: \"absolute\",\n    top: Spacing.sm,\n    right: Spacing.sm,\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    backgroundColor: \"rgba(0,0,0,0.4)\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  ofertaTitle: {\n    fontSize: 13,\n    color: Colors.dark.text,\n    fontWeight: \"500\",\n    marginTop: Spacing.sm,\n  },\n  ofertaPrice: {\n    fontSize: 11,\n    color: Colors.dark.textSecondary,\n    marginTop: 2,\n  },\n});\n","path":null,"size_bytes":51030,"size_tokens":null},"client/screens/MyEventsScreen.tsx":{"content":"import React, { useState } from \"react\";\nimport {\n  View,\n  ScrollView,\n  StyleSheet,\n  Pressable,\n  ActivityIndicator,\n} from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useBottomTabBarHeight } from \"@react-navigation/bottom-tabs\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius, Colors } from \"@/constants/theme\";\nimport { Button } from \"@/components/Button\";\nimport { apiRequest } from \"@/lib/query-client\";\nimport { MyEventsStackParamList } from \"@/navigation/MyEventsStackNavigator\";\nimport type { Event } from \"@shared/schema\";\n\ntype NavigationProp = NativeStackNavigationProp<MyEventsStackParamList>;\n\ntype TabType = \"favorites\" | \"attending\";\n\nconst DEMO_USER_ID = \"demo-user\";\n\nfunction SegmentedControl({\n  value,\n  onChange,\n}: {\n  value: TabType;\n  onChange: (tab: TabType) => void;\n}) {\n  const { theme } = useTheme();\n\n  return (\n    <View style={[styles.segmentedControl, { backgroundColor: theme.backgroundDefault }]}>\n      <Pressable\n        style={[\n          styles.segment,\n          value === \"favorites\" && {\n            backgroundColor: Colors.dark.primary,\n          },\n        ]}\n        onPress={() => onChange(\"favorites\")}\n      >\n        <Feather\n          name=\"heart\"\n          size={16}\n          color={value === \"favorites\" ? \"#FFF\" : Colors.dark.textSecondary}\n          style={{ marginRight: 6 }}\n        />\n        <ThemedText\n          style={[\n            styles.segmentText,\n            value === \"favorites\" && styles.segmentTextActive,\n          ]}\n        >\n          Favoritos\n        </ThemedText>\n      </Pressable>\n      <Pressable\n        style={[\n          styles.segment,\n          value === \"attending\" && {\n            backgroundColor: Colors.dark.primary,\n          },\n        ]}\n        onPress={() => onChange(\"attending\")}\n      >\n        <Feather\n          name=\"calendar\"\n          size={16}\n          color={value === \"attending\" ? \"#FFF\" : Colors.dark.textSecondary}\n          style={{ marginRight: 6 }}\n        />\n        <ThemedText\n          style={[\n            styles.segmentText,\n            value === \"attending\" && styles.segmentTextActive,\n          ]}\n        >\n          Confirmados\n        </ThemedText>\n      </Pressable>\n    </View>\n  );\n}\n\nfunction EventListItem({ event, onRemoveFavorite }: { event: Event; onRemoveFavorite?: () => void }) {\n  const { theme } = useTheme();\n  const navigation = useNavigation<NavigationProp>();\n\n  return (\n    <Pressable\n      style={({ pressed }) => [\n        styles.eventItem,\n        { backgroundColor: theme.backgroundDefault },\n        pressed && styles.pressed,\n      ]}\n      onPress={() => navigation.navigate(\"EventDetails\", { eventId: event.id })}\n    >\n      <View style={styles.eventImage}>\n        <LinearGradient\n          colors={[Colors.dark.primary, Colors.dark.secondary]}\n          style={StyleSheet.absoluteFill}\n        />\n        <Feather name=\"music\" size={24} color=\"#FFF\" />\n      </View>\n      <View style={styles.eventInfo}>\n        <ThemedText type=\"body\" style={{ fontWeight: \"600\" }}>\n          {event.title}\n        </ThemedText>\n        <View style={styles.eventMeta}>\n          <Feather name=\"map-pin\" size={12} color={theme.textSecondary} />\n          <ThemedText style={styles.metaText}>{event.venueName}</ThemedText>\n        </View>\n        <View style={styles.eventMeta}>\n          <Feather name=\"calendar\" size={12} color={theme.textSecondary} />\n          <ThemedText style={styles.metaText}>\n            {event.date} - {event.time}\n          </ThemedText>\n        </View>\n      </View>\n      {onRemoveFavorite ? (\n        <Pressable\n          onPress={onRemoveFavorite}\n          style={({ pressed }) => [styles.removeButton, pressed && { opacity: 0.7 }]}\n          hitSlop={8}\n        >\n          <Feather name=\"heart\" size={20} color={Colors.dark.secondary} />\n        </Pressable>\n      ) : (\n        <Feather name=\"chevron-right\" size={20} color={theme.textSecondary} />\n      )}\n    </Pressable>\n  );\n}\n\nfunction EmptyState({ type }: { type: TabType }) {\n  const navigation = useNavigation<any>();\n\n  return (\n    <View style={styles.emptyState}>\n      <View style={styles.emptyIcon}>\n        <Feather\n          name={type === \"favorites\" ? \"heart\" : \"calendar\"}\n          size={48}\n          color={Colors.dark.textSecondary}\n        />\n      </View>\n      <ThemedText type=\"h4\" style={styles.emptyTitle}>\n        {type === \"favorites\" ? \"Nenhum favorito\" : \"Nenhum evento confirmado\"}\n      </ThemedText>\n      <ThemedText style={styles.emptyText}>\n        {type === \"favorites\"\n          ? \"Salve eventos que voce gosta para encontra-los rapidamente aqui!\"\n          : \"Confirme presenca em eventos para ve-los aqui!\"}\n      </ThemedText>\n      <Button style={styles.emptyButton} onPress={() => navigation.navigate(\"Discover\")}>\n        Descobrir Eventos\n      </Button>\n    </View>\n  );\n}\n\nexport default function MyEventsScreen() {\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n  const tabBarHeight = useBottomTabBarHeight();\n  const { theme } = useTheme();\n  const queryClient = useQueryClient();\n  const [activeTab, setActiveTab] = useState<TabType>(\"favorites\");\n\n  const { data: favorites = [], isLoading: favoritesLoading } = useQuery<Event[]>({\n    queryKey: [\"/api/users\", DEMO_USER_ID, \"favorites\"],\n  });\n\n  const removeFavoriteMutation = useMutation({\n    mutationFn: async (eventId: string) => {\n      await apiRequest(\"DELETE\", `/api/users/${DEMO_USER_ID}/favorites/${eventId}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/users\", DEMO_USER_ID, \"favorites\"] });\n    },\n  });\n\n  const handleRemoveFavorite = (eventId: string) => {\n    removeFavoriteMutation.mutate(eventId);\n  };\n\n  const events = activeTab === \"favorites\" ? favorites : [];\n  const isLoading = favoritesLoading;\n\n  return (\n    <ScrollView\n      style={[styles.container, { backgroundColor: theme.backgroundRoot }]}\n      contentContainerStyle={{\n        paddingTop: headerHeight + Spacing.lg,\n        paddingBottom: tabBarHeight + Spacing.xl,\n        flexGrow: 1,\n      }}\n      scrollIndicatorInsets={{ bottom: insets.bottom }}\n      showsVerticalScrollIndicator={false}\n    >\n      <View style={styles.header}>\n        <SegmentedControl value={activeTab} onChange={setActiveTab} />\n      </View>\n\n      {isLoading ? (\n        <View style={styles.loadingState}>\n          <ActivityIndicator size=\"large\" color={Colors.dark.primary} />\n        </View>\n      ) : events.length > 0 ? (\n        <View style={styles.eventList}>\n          {events.map((event) => (\n            <EventListItem\n              key={event.id}\n              event={event}\n              onRemoveFavorite={activeTab === \"favorites\" ? () => handleRemoveFavorite(event.id) : undefined}\n            />\n          ))}\n        </View>\n      ) : (\n        <EmptyState type={activeTab} />\n      )}\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  header: {\n    paddingHorizontal: Spacing.lg,\n    marginBottom: Spacing.xl,\n  },\n  segmentedControl: {\n    flexDirection: \"row\",\n    borderRadius: BorderRadius.md,\n    padding: Spacing.xs,\n  },\n  segment: {\n    flex: 1,\n    flexDirection: \"row\",\n    paddingVertical: Spacing.md,\n    borderRadius: BorderRadius.sm,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  segmentText: {\n    fontSize: 14,\n    fontWeight: \"500\",\n    color: Colors.dark.textSecondary,\n  },\n  segmentTextActive: {\n    color: \"#FFF\",\n  },\n  eventList: {\n    paddingHorizontal: Spacing.lg,\n    gap: Spacing.md,\n  },\n  eventItem: {\n    flexDirection: \"row\",\n    padding: Spacing.md,\n    borderRadius: BorderRadius.md,\n    alignItems: \"center\",\n    gap: Spacing.md,\n  },\n  eventImage: {\n    width: 60,\n    height: 60,\n    borderRadius: BorderRadius.sm,\n    overflow: \"hidden\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  eventInfo: {\n    flex: 1,\n    gap: Spacing.xs,\n  },\n  eventMeta: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: Spacing.xs,\n  },\n  metaText: {\n    fontSize: 12,\n    color: Colors.dark.textSecondary,\n  },\n  removeButton: {\n    padding: Spacing.sm,\n  },\n  pressed: {\n    opacity: 0.8,\n    transform: [{ scale: 0.98 }],\n  },\n  loadingState: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  emptyState: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingHorizontal: Spacing.xl,\n  },\n  emptyIcon: {\n    width: 100,\n    height: 100,\n    borderRadius: 50,\n    backgroundColor: Colors.dark.backgroundDefault,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginBottom: Spacing.xl,\n  },\n  emptyTitle: {\n    marginBottom: Spacing.sm,\n    textAlign: \"center\",\n  },\n  emptyText: {\n    color: Colors.dark.textSecondary,\n    textAlign: \"center\",\n    marginBottom: Spacing.xl,\n  },\n  emptyButton: {\n    width: \"100%\",\n  },\n});\n","path":null,"size_bytes":9403,"size_tokens":null},"client/components/Spacer.tsx":{"content":"import { View } from \"react-native\";\n\ntype Props = {\n  width?: number;\n  height?: number;\n};\n\nexport default function Spacer(props: Props) {\n  const width: number = props.width ?? 1;\n  const height: number = props.height ?? 1;\n\n  return (\n    <View\n      style={{\n        width,\n        height,\n      }}\n    />\n  );\n}\n","path":null,"size_bytes":318,"size_tokens":null},"client/navigation/RootStackNavigator.tsx":{"content":"import React from \"react\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport MainTabNavigator from \"@/navigation/MainTabNavigator\";\nimport SignUpScreen from \"@/screens/SignUpScreen\";\nimport { useScreenOptions } from \"@/hooks/useScreenOptions\";\n\nexport type RootStackParamList = {\n  Main: undefined;\n  SignUp: undefined;\n  Login: undefined;\n};\n\nconst Stack = createNativeStackNavigator<RootStackParamList>();\n\nexport default function RootStackNavigator() {\n  const screenOptions = useScreenOptions();\n\n  return (\n    <Stack.Navigator screenOptions={screenOptions}>\n      <Stack.Screen\n        name=\"Main\"\n        component={MainTabNavigator}\n        options={{ headerShown: false }}\n      />\n      <Stack.Screen\n        name=\"SignUp\"\n        component={SignUpScreen}\n        options={{\n          presentation: \"modal\",\n          headerShown: false,\n        }}\n      />\n      <Stack.Screen\n        name=\"Login\"\n        component={SignUpScreen}\n        options={{\n          presentation: \"modal\",\n          headerShown: false,\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","path":null,"size_bytes":1108,"size_tokens":null},"client/screens/SignUpScreen.tsx":{"content":"import React from \"react\";\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  Pressable,\n  Image,\n  Platform,\n} from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { Colors, Spacing, BorderRadius, Fonts } from \"@/constants/theme\";\nimport { useNavigation } from \"@react-navigation/native\";\n\nconst logoImage = require(\"../../attached_assets/WhatsApp_Image_2025-12-09_at_11.41.04-removebg-preview_1765394422474.png\");\n\ntype SocialButtonProps = {\n  icon: React.ReactNode;\n  label: string;\n  variant: \"google\" | \"facebook\" | \"apple\";\n  onPress?: () => void;\n};\n\nfunction SocialButton({ icon, label, variant, onPress }: SocialButtonProps) {\n  const getButtonStyle = () => {\n    switch (variant) {\n      case \"google\":\n        return styles.googleButton;\n      case \"facebook\":\n        return styles.facebookButton;\n      case \"apple\":\n        return styles.appleButton;\n      default:\n        return styles.googleButton;\n    }\n  };\n\n  const getTextStyle = () => {\n    switch (variant) {\n      case \"google\":\n        return styles.googleButtonText;\n      case \"facebook\":\n        return styles.facebookButtonText;\n      case \"apple\":\n        return styles.appleButtonText;\n      default:\n        return styles.googleButtonText;\n    }\n  };\n\n  return (\n    <Pressable\n      style={[styles.socialButton, getButtonStyle()]}\n      onPress={onPress}\n    >\n      {icon}\n      <Text style={[styles.socialButtonText, getTextStyle()]}>{label}</Text>\n    </Pressable>\n  );\n}\n\nfunction GoogleIcon() {\n  return (\n    <View style={styles.googleIconContainer}>\n      <Text style={styles.googleIconText}>G</Text>\n    </View>\n  );\n}\n\nfunction FacebookIcon() {\n  return (\n    <View style={styles.facebookIconContainer}>\n      <Feather name=\"facebook\" size={18} color=\"#FFFFFF\" />\n    </View>\n  );\n}\n\nfunction AppleIcon() {\n  return (\n    <View style={styles.appleIconContainer}>\n      <Feather name=\"smartphone\" size={18} color=\"#000000\" />\n    </View>\n  );\n}\n\nexport default function SignUpScreen() {\n  const insets = useSafeAreaInsets();\n  const navigation = useNavigation();\n\n  const handleGoBack = () => {\n    navigation.goBack();\n  };\n\n  const handleGoogleSignUp = () => {\n    console.log(\"Google sign up\");\n  };\n\n  const handleFacebookSignUp = () => {\n    console.log(\"Facebook sign up\");\n  };\n\n  const handleAppleSignUp = () => {\n    console.log(\"Apple sign up\");\n  };\n\n  const handleEmailSignUp = () => {\n    console.log(\"Email sign up\");\n  };\n\n  const handleRegister = () => {\n    console.log(\"Register\");\n  };\n\n  return (\n    <View style={styles.container}>\n      <LinearGradient\n        colors={[\"#8B0000\", \"#C41E3A\", \"#8B0000\"]}\n        start={{ x: 0, y: 0 }}\n        end={{ x: 1, y: 1 }}\n        style={styles.heroBackground}\n      >\n        <View style={[styles.curtainOverlay, { paddingTop: insets.top }]}>\n          <Pressable style={styles.backButton} onPress={handleGoBack}>\n            <Feather name=\"arrow-left\" size={24} color=\"#FFFFFF\" />\n          </Pressable>\n          \n          <View style={styles.heroContent}>\n            <Image source={logoImage} style={styles.logo} resizeMode=\"contain\" />\n            <Text style={styles.tagline}>Pronto para entrar na comunidade</Text>\n            <Text style={styles.brandName}>\n              <Text style={styles.brandRed}>B</Text>\n              <Text style={styles.brandWhite}>ORA</Text>\n              <Text style={styles.brandRed}>B</Text>\n              <Text style={styles.brandWhite}>AILAR</Text>\n            </Text>\n          </View>\n        </View>\n      </LinearGradient>\n\n      <View style={styles.cardContainer}>\n        <ScrollView\n          style={styles.cardScrollView}\n          contentContainerStyle={[\n            styles.cardContent,\n            { paddingBottom: insets.bottom + Spacing.xl },\n          ]}\n          showsVerticalScrollIndicator={false}\n        >\n          <Text style={styles.cardTitle}>Cadastre-se</Text>\n\n          <View style={styles.socialButtonsContainer}>\n            <SocialButton\n              icon={<GoogleIcon />}\n              label=\"Continuar com Google\"\n              variant=\"google\"\n              onPress={handleGoogleSignUp}\n            />\n            <SocialButton\n              icon={<FacebookIcon />}\n              label=\"Continuar com Facebook\"\n              variant=\"facebook\"\n              onPress={handleFacebookSignUp}\n            />\n            <SocialButton\n              icon={<AppleIcon />}\n              label=\"Continuar com Apple\"\n              variant=\"apple\"\n              onPress={handleAppleSignUp}\n            />\n          </View>\n\n          <View style={styles.dividerContainer}>\n            <View style={styles.dividerLine} />\n            <Text style={styles.dividerText}>ou</Text>\n            <View style={styles.dividerLine} />\n          </View>\n\n          <Pressable style={styles.emailButton} onPress={handleEmailSignUp}>\n            <Feather name=\"mail\" size={20} color={Colors.dark.textSecondary} />\n            <Text style={styles.emailButtonText}>Continuar com e-mail</Text>\n          </Pressable>\n\n          <Pressable style={styles.registerButton} onPress={handleRegister}>\n            <Text style={styles.registerButtonText}>Cadastrar</Text>\n          </Pressable>\n        </ScrollView>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.dark.backgroundRoot,\n  },\n  heroBackground: {\n    height: \"40%\",\n    minHeight: 280,\n  },\n  curtainOverlay: {\n    flex: 1,\n    paddingHorizontal: Spacing.lg,\n  },\n  backButton: {\n    width: 40,\n    height: 40,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: Spacing.sm,\n  },\n  heroContent: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingBottom: Spacing.xl,\n  },\n  logo: {\n    width: 60,\n    height: 50,\n    marginBottom: Spacing.md,\n  },\n  tagline: {\n    fontSize: 14,\n    color: \"#FFFFFF\",\n    opacity: 0.9,\n    marginBottom: Spacing.sm,\n  },\n  brandName: {\n    fontSize: 32,\n    fontFamily: Fonts?.serif,\n    letterSpacing: 2,\n  },\n  brandRed: {\n    color: Colors.dark.brand,\n    fontWeight: \"700\",\n  },\n  brandWhite: {\n    color: \"#FFFFFF\",\n    fontWeight: \"400\",\n  },\n  cardContainer: {\n    flex: 1,\n    backgroundColor: Colors.dark.backgroundRoot,\n    borderTopLeftRadius: BorderRadius[\"2xl\"],\n    borderTopRightRadius: BorderRadius[\"2xl\"],\n    marginTop: -Spacing.xl,\n    overflow: \"hidden\",\n  },\n  cardScrollView: {\n    flex: 1,\n  },\n  cardContent: {\n    paddingHorizontal: Spacing.xl,\n    paddingTop: Spacing.xl,\n  },\n  cardTitle: {\n    fontSize: 24,\n    fontWeight: \"700\",\n    color: Colors.dark.text,\n    marginBottom: Spacing.xl,\n  },\n  socialButtonsContainer: {\n    gap: Spacing.md,\n  },\n  socialButton: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingVertical: Spacing.md,\n    paddingHorizontal: Spacing.lg,\n    borderRadius: BorderRadius.xl,\n    gap: Spacing.sm,\n  },\n  socialButtonText: {\n    fontSize: 15,\n    fontWeight: \"500\",\n  },\n  googleButton: {\n    backgroundColor: \"#FFFFFF\",\n    borderWidth: 1,\n    borderColor: \"#E0E0E0\",\n  },\n  googleButtonText: {\n    color: Colors.dark.text,\n  },\n  googleIconContainer: {\n    width: 20,\n    height: 20,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  googleIconText: {\n    fontSize: 16,\n    fontWeight: \"700\",\n    color: \"#4285F4\",\n  },\n  facebookButton: {\n    backgroundColor: \"#1877F2\",\n  },\n  facebookButtonText: {\n    color: \"#FFFFFF\",\n  },\n  facebookIconContainer: {\n    width: 20,\n    height: 20,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  appleButton: {\n    backgroundColor: \"#FFFFFF\",\n    borderWidth: 1,\n    borderColor: \"#000000\",\n  },\n  appleButtonText: {\n    color: \"#000000\",\n  },\n  appleIconContainer: {\n    width: 20,\n    height: 20,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  dividerContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginVertical: Spacing.xl,\n  },\n  dividerLine: {\n    flex: 1,\n    height: 1,\n    backgroundColor: \"#E0E0E0\",\n  },\n  dividerText: {\n    paddingHorizontal: Spacing.md,\n    fontSize: 14,\n    color: Colors.dark.textSecondary,\n  },\n  emailButton: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingVertical: Spacing.md,\n    paddingHorizontal: Spacing.lg,\n    gap: Spacing.sm,\n  },\n  emailButtonText: {\n    fontSize: 15,\n    color: Colors.dark.textSecondary,\n    fontWeight: \"500\",\n  },\n  registerButton: {\n    backgroundColor: Colors.dark.brand,\n    borderRadius: BorderRadius.xl,\n    paddingVertical: Spacing.md,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: Spacing.lg,\n  },\n  registerButtonText: {\n    fontSize: 16,\n    fontWeight: \"600\",\n    color: \"#FFFFFF\",\n  },\n});\n","path":null,"size_bytes":8911,"size_tokens":null},"client/screens/SearchResultsScreen.tsx":{"content":"import React from \"react\";\nimport {\n  View,\n  Text,\n  StyleSheet,\n  FlatList,\n  Pressable,\n  ActivityIndicator,\n} from \"react-native\";\nimport { useRoute, useNavigation } from \"@react-navigation/native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { Image } from \"expo-image\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Colors, Spacing, BorderRadius } from \"@/constants/theme\";\nimport { getApiUrl } from \"@/lib/query-client\";\n\ntype Event = {\n  id: string;\n  title: string;\n  description?: string;\n  venueName?: string;\n  address?: string;\n  city?: string;\n  date: string;\n  time: string;\n  price?: string;\n  attendeesCount?: number;\n};\n\nexport default function SearchResultsScreen() {\n  const route = useRoute();\n  const navigation = useNavigation();\n  const insets = useSafeAreaInsets();\n  const { theme } = useTheme();\n  \n  const { city, date, query } = (route.params as { city?: string; date?: string; query?: string }) || {};\n  \n  const searchUrl = new URL(\"/api/events/search\", getApiUrl());\n  if (city) searchUrl.searchParams.set(\"city\", city);\n  if (date) searchUrl.searchParams.set(\"date\", date);\n  if (query) searchUrl.searchParams.set(\"query\", query);\n  \n  const { data: events, isLoading, error } = useQuery<Event[]>({\n    queryKey: [\"/api/events/search\", { city, date, query }],\n    queryFn: async () => {\n      const response = await fetch(searchUrl.toString());\n      if (!response.ok) throw new Error(\"Failed to search events\");\n      return response.json();\n    },\n  });\n  \n  const renderEventCard = ({ item }: { item: Event }) => (\n    <Pressable\n      style={({ pressed }) => [\n        styles.eventCard,\n        pressed && styles.eventCardPressed,\n      ]}\n      onPress={() => (navigation as any).navigate(\"EventDetails\", { eventId: item.id })}\n    >\n      <View style={styles.eventInfo}>\n        <Text style={styles.eventTitle}>{item.title}</Text>\n        {item.venueName ? (\n          <View style={styles.eventLocation}>\n            <Feather name=\"map-pin\" size={14} color={Colors.dark.textSecondary} />\n            <Text style={styles.eventLocationText}>{item.venueName}</Text>\n          </View>\n        ) : null}\n        <View style={styles.eventDateTime}>\n          <View style={styles.eventDateTimeItem}>\n            <Feather name=\"calendar\" size={14} color={Colors.dark.textSecondary} />\n            <Text style={styles.eventDateTimeText}>{item.date}</Text>\n          </View>\n          <View style={styles.eventDateTimeItem}>\n            <Feather name=\"clock\" size={14} color={Colors.dark.textSecondary} />\n            <Text style={styles.eventDateTimeText}>{item.time}</Text>\n          </View>\n        </View>\n        {item.price ? (\n          <Text style={styles.eventPrice}>{item.price}</Text>\n        ) : null}\n      </View>\n      <View style={styles.eventArrow}>\n        <Feather name=\"chevron-right\" size={24} color={Colors.dark.textSecondary} />\n      </View>\n    </Pressable>\n  );\n  \n  const ListHeader = () => (\n    <View style={styles.header}>\n      <Text style={styles.headerTitle}>Resultados da busca</Text>\n      <View style={styles.filterTags}>\n        {city ? (\n          <View style={styles.filterTag}>\n            <Feather name=\"map-pin\" size={12} color={Colors.dark.brand} />\n            <Text style={styles.filterTagText}>{city}</Text>\n          </View>\n        ) : null}\n        {date ? (\n          <View style={styles.filterTag}>\n            <Feather name=\"calendar\" size={12} color={Colors.dark.brand} />\n            <Text style={styles.filterTagText}>{date}</Text>\n          </View>\n        ) : null}\n        {query ? (\n          <View style={styles.filterTag}>\n            <Feather name=\"search\" size={12} color={Colors.dark.brand} />\n            <Text style={styles.filterTagText}>{query}</Text>\n          </View>\n        ) : null}\n      </View>\n    </View>\n  );\n  \n  const ListEmpty = () => (\n    <View style={styles.emptyContainer}>\n      <Feather name=\"search\" size={48} color={Colors.dark.textSecondary} />\n      <Text style={styles.emptyTitle}>Nenhum evento encontrado</Text>\n      <Text style={styles.emptySubtitle}>\n        Tente ajustar os filtros de busca\n      </Text>\n    </View>\n  );\n  \n  if (isLoading) {\n    return (\n      <View style={[styles.container, { paddingTop: insets.top }]}>\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={Colors.dark.brand} />\n          <Text style={styles.loadingText}>Buscando eventos...</Text>\n        </View>\n      </View>\n    );\n  }\n  \n  if (error) {\n    return (\n      <View style={[styles.container, { paddingTop: insets.top }]}>\n        <View style={styles.errorContainer}>\n          <Feather name=\"alert-circle\" size={48} color={Colors.dark.brand} />\n          <Text style={styles.errorTitle}>Erro na busca</Text>\n          <Text style={styles.errorSubtitle}>\n            No foi possvel buscar os eventos. Tente novamente.\n          </Text>\n          <Pressable\n            style={styles.retryButton}\n            onPress={() => navigation.goBack()}\n          >\n            <Text style={styles.retryButtonText}>Voltar</Text>\n          </Pressable>\n        </View>\n      </View>\n    );\n  }\n  \n  return (\n    <View style={[styles.container, { paddingTop: insets.top }]}>\n      <FlatList\n        data={events}\n        renderItem={renderEventCard}\n        keyExtractor={(item) => item.id}\n        ListHeaderComponent={ListHeader}\n        ListEmptyComponent={ListEmpty}\n        contentContainerStyle={[\n          styles.listContent,\n          { paddingBottom: insets.bottom + Spacing.xl },\n        ]}\n        showsVerticalScrollIndicator={false}\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.dark.backgroundRoot,\n  },\n  loadingContainer: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    gap: Spacing.md,\n  },\n  loadingText: {\n    fontSize: 16,\n    color: Colors.dark.textSecondary,\n  },\n  errorContainer: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingHorizontal: Spacing.xl,\n    gap: Spacing.md,\n  },\n  errorTitle: {\n    fontSize: 20,\n    fontWeight: \"600\",\n    color: Colors.dark.text,\n    marginTop: Spacing.md,\n  },\n  errorSubtitle: {\n    fontSize: 14,\n    color: Colors.dark.textSecondary,\n    textAlign: \"center\",\n  },\n  retryButton: {\n    backgroundColor: Colors.dark.brand,\n    paddingVertical: Spacing.md,\n    paddingHorizontal: Spacing.xl,\n    borderRadius: BorderRadius.lg,\n    marginTop: Spacing.md,\n  },\n  retryButtonText: {\n    color: \"#FFFFFF\",\n    fontSize: 16,\n    fontWeight: \"600\",\n  },\n  listContent: {\n    paddingHorizontal: Spacing.lg,\n  },\n  header: {\n    paddingVertical: Spacing.lg,\n    gap: Spacing.md,\n  },\n  headerTitle: {\n    fontSize: 24,\n    fontWeight: \"700\",\n    color: Colors.dark.text,\n  },\n  filterTags: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    gap: Spacing.sm,\n  },\n  filterTag: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    backgroundColor: \"rgba(196, 30, 58, 0.1)\",\n    paddingVertical: Spacing.xs,\n    paddingHorizontal: Spacing.md,\n    borderRadius: BorderRadius.lg,\n    gap: Spacing.xs,\n  },\n  filterTagText: {\n    fontSize: 12,\n    color: Colors.dark.brand,\n    fontWeight: \"500\",\n  },\n  eventCard: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    backgroundColor: \"#F5F5F5\",\n    padding: Spacing.md,\n    borderRadius: BorderRadius.lg,\n    marginBottom: Spacing.md,\n  },\n  eventCardPressed: {\n    opacity: 0.9,\n    transform: [{ scale: 0.99 }],\n  },\n  eventInfo: {\n    flex: 1,\n    gap: Spacing.xs,\n  },\n  eventTitle: {\n    fontSize: 16,\n    fontWeight: \"600\",\n    color: Colors.dark.text,\n  },\n  eventLocation: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: Spacing.xs,\n  },\n  eventLocationText: {\n    fontSize: 13,\n    color: Colors.dark.textSecondary,\n  },\n  eventDateTime: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: Spacing.md,\n  },\n  eventDateTimeItem: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: Spacing.xs,\n  },\n  eventDateTimeText: {\n    fontSize: 12,\n    color: Colors.dark.textSecondary,\n  },\n  eventPrice: {\n    fontSize: 14,\n    fontWeight: \"600\",\n    color: Colors.dark.brand,\n    marginTop: Spacing.xs,\n  },\n  eventArrow: {\n    marginLeft: Spacing.md,\n  },\n  emptyContainer: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingVertical: Spacing.xl * 3,\n    gap: Spacing.md,\n  },\n  emptyTitle: {\n    fontSize: 18,\n    fontWeight: \"600\",\n    color: Colors.dark.text,\n    marginTop: Spacing.md,\n  },\n  emptySubtitle: {\n    fontSize: 14,\n    color: Colors.dark.textSecondary,\n    textAlign: \"center\",\n  },\n});\n","path":null,"size_bytes":8803,"size_tokens":null},"client/components/SearchModals.tsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport {\n  View,\n  Modal,\n  StyleSheet,\n  Pressable,\n  Text,\n  ScrollView,\n  Platform,\n  ActivityIndicator,\n} from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { Feather } from \"@expo/vector-icons\";\nimport Animated, {\n  useSharedValue,\n  useAnimatedStyle,\n  withSpring,\n  withTiming,\n  runOnJS,\n} from \"react-native-reanimated\";\nimport { Spacing, BorderRadius, Colors } from \"@/constants/theme\";\n\nconst CITIES = [\n  { id: \"sp\", name: \"So Paulo\", region: \"SP\" },\n  { id: \"rj\", name: \"Rio de Janeiro\", region: \"RJ\" },\n  { id: \"bh\", name: \"Belo Horizonte\", region: \"MG\" },\n  { id: \"ctb\", name: \"Curitiba\", region: \"PR\" },\n  { id: \"poa\", name: \"Porto Alegre\", region: \"RS\" },\n  { id: \"rec\", name: \"Recife\", region: \"PE\" },\n  { id: \"sal\", name: \"Salvador\", region: \"BA\" },\n  { id: \"for\", name: \"Fortaleza\", region: \"CE\" },\n  { id: \"bsb\", name: \"Braslia\", region: \"DF\" },\n  { id: \"flo\", name: \"Florianpolis\", region: \"SC\" },\n];\n\nconst DATE_OPTIONS = [\n  { id: \"today\", label: \"Hoje\", icon: \"sun\" as const },\n  { id: \"tomorrow\", label: \"Amanh\", icon: \"sunrise\" as const },\n  { id: \"weekend\", label: \"Fim de semana\", icon: \"calendar\" as const },\n  { id: \"week\", label: \"Esta semana\", icon: \"calendar\" as const },\n  { id: \"month\", label: \"Este ms\", icon: \"calendar\" as const },\n];\n\nconst COMPANION_OPTIONS = [\n  { id: \"solo\", label: \"Sozinho(a)\", icon: \"user\" as const },\n  { id: \"couple\", label: \"Em casal\", icon: \"heart\" as const },\n  { id: \"friends\", label: \"Com amigos\", icon: \"users\" as const },\n  { id: \"group\", label: \"Em grupo\", icon: \"users\" as const },\n];\n\ninterface OndeModalProps {\n  visible: boolean;\n  onClose: () => void;\n  onSelect: (city: typeof CITIES[0]) => void;\n  selectedCity: typeof CITIES[0] | null;\n}\n\nexport function OndeModal({ visible, onClose, onSelect, selectedCity }: OndeModalProps) {\n  const insets = useSafeAreaInsets();\n  \n  return (\n    <Modal\n      visible={visible}\n      animationType=\"slide\"\n      presentationStyle=\"pageSheet\"\n      onRequestClose={onClose}\n    >\n      <View style={[styles.modalContainer, { paddingTop: insets.top || Spacing.lg }]}>\n        <View style={styles.modalHeader}>\n          <Pressable onPress={onClose} style={styles.closeButton}>\n            <Feather name=\"x\" size={24} color={Colors.dark.text} />\n          </Pressable>\n          <Text style={styles.modalTitle}>Onde voc quer danar?</Text>\n          <View style={styles.closeButton} />\n        </View>\n        \n        <ScrollView \n          style={styles.modalContent}\n          contentContainerStyle={styles.optionsContainer}\n          showsVerticalScrollIndicator={false}\n        >\n          {CITIES.map((city) => (\n            <Pressable\n              key={city.id}\n              style={({ pressed }) => [\n                styles.optionItem,\n                selectedCity?.id === city.id && styles.optionItemSelected,\n                pressed && styles.optionItemPressed,\n              ]}\n              onPress={() => {\n                onSelect(city);\n                onClose();\n              }}\n            >\n              <View style={styles.optionIcon}>\n                <Feather name=\"map-pin\" size={20} color={Colors.dark.primary} />\n              </View>\n              <View style={styles.optionTextContainer}>\n                <Text style={styles.optionTitle}>{city.name}</Text>\n                <Text style={styles.optionSubtitle}>{city.region}</Text>\n              </View>\n              {selectedCity?.id === city.id ? (\n                <Feather name=\"check\" size={20} color={Colors.dark.primary} />\n              ) : null}\n            </Pressable>\n          ))}\n        </ScrollView>\n      </View>\n    </Modal>\n  );\n}\n\ninterface QuandoModalProps {\n  visible: boolean;\n  onClose: () => void;\n  onSelect: (option: typeof DATE_OPTIONS[0]) => void;\n  selectedOption: typeof DATE_OPTIONS[0] | null;\n}\n\nexport function QuandoModal({ visible, onClose, onSelect, selectedOption }: QuandoModalProps) {\n  const insets = useSafeAreaInsets();\n  \n  return (\n    <Modal\n      visible={visible}\n      animationType=\"slide\"\n      presentationStyle=\"pageSheet\"\n      onRequestClose={onClose}\n    >\n      <View style={[styles.modalContainer, { paddingTop: insets.top || Spacing.lg }]}>\n        <View style={styles.modalHeader}>\n          <Pressable onPress={onClose} style={styles.closeButton}>\n            <Feather name=\"x\" size={24} color={Colors.dark.text} />\n          </Pressable>\n          <Text style={styles.modalTitle}>Quando voc quer sair?</Text>\n          <View style={styles.closeButton} />\n        </View>\n        \n        <ScrollView \n          style={styles.modalContent}\n          contentContainerStyle={styles.optionsContainer}\n          showsVerticalScrollIndicator={false}\n        >\n          {DATE_OPTIONS.map((option) => (\n            <Pressable\n              key={option.id}\n              style={({ pressed }) => [\n                styles.optionItem,\n                selectedOption?.id === option.id && styles.optionItemSelected,\n                pressed && styles.optionItemPressed,\n              ]}\n              onPress={() => {\n                onSelect(option);\n                onClose();\n              }}\n            >\n              <View style={styles.optionIcon}>\n                <Feather name={option.icon} size={20} color={Colors.dark.primary} />\n              </View>\n              <View style={styles.optionTextContainer}>\n                <Text style={styles.optionTitle}>{option.label}</Text>\n              </View>\n              {selectedOption?.id === option.id ? (\n                <Feather name=\"check\" size={20} color={Colors.dark.primary} />\n              ) : null}\n            </Pressable>\n          ))}\n        </ScrollView>\n      </View>\n    </Modal>\n  );\n}\n\ninterface ComQuemModalProps {\n  visible: boolean;\n  onClose: () => void;\n  onSelect: (option: typeof COMPANION_OPTIONS[0]) => void;\n  selectedOption: typeof COMPANION_OPTIONS[0] | null;\n  onMicPress: () => void;\n  isRecording: boolean;\n  isTranscribing?: boolean;\n  transcript: string;\n}\n\nexport function ComQuemModal({ \n  visible, \n  onClose, \n  onSelect, \n  selectedOption,\n  onMicPress,\n  isRecording,\n  isTranscribing = false,\n  transcript,\n}: ComQuemModalProps) {\n  const insets = useSafeAreaInsets();\n  const pulseScale = useSharedValue(1);\n  \n  useEffect(() => {\n    if (isRecording) {\n      const pulse = () => {\n        pulseScale.value = withSpring(1.2, { damping: 10 }, () => {\n          pulseScale.value = withSpring(1, { damping: 10 });\n        });\n      };\n      const interval = setInterval(pulse, 1000);\n      return () => clearInterval(interval);\n    } else {\n      pulseScale.value = withTiming(1);\n    }\n  }, [isRecording]);\n\n  const micButtonStyle = useAnimatedStyle(() => ({\n    transform: [{ scale: pulseScale.value }],\n  }));\n  \n  return (\n    <Modal\n      visible={visible}\n      animationType=\"slide\"\n      presentationStyle=\"pageSheet\"\n      onRequestClose={onClose}\n    >\n      <View style={[styles.modalContainer, { paddingTop: insets.top || Spacing.lg }]}>\n        <View style={styles.modalHeader}>\n          <Pressable onPress={onClose} style={styles.closeButton}>\n            <Feather name=\"x\" size={24} color={Colors.dark.text} />\n          </Pressable>\n          <Text style={styles.modalTitle}>Com quem voc quer sair?</Text>\n          <View style={styles.closeButton} />\n        </View>\n        \n        <View style={styles.voiceSection}>\n          <Text style={styles.voiceHint}>\n            {isRecording \n              ? \"Gravando... Toque para parar\" \n              : isTranscribing \n                ? \"Transcrevendo...\" \n                : \"Toque no microfone e fale o que voc procura\"}\n          </Text>\n          \n          <Animated.View style={micButtonStyle}>\n            <Pressable\n              style={[\n                styles.micButton,\n                isRecording && styles.micButtonRecording,\n                isTranscribing && styles.micButtonTranscribing,\n              ]}\n              onPress={onMicPress}\n              disabled={isTranscribing}\n            >\n              {isRecording || isTranscribing ? (\n                <ActivityIndicator size=\"small\" color=\"#FFFFFF\" />\n              ) : (\n                <Feather name=\"mic\" size={32} color=\"#FFFFFF\" />\n              )}\n            </Pressable>\n          </Animated.View>\n          \n          {transcript ? (\n            <View style={styles.transcriptContainer}>\n              <Text style={styles.transcriptLabel}>Voc disse:</Text>\n              <Text style={styles.transcriptText}>\"{transcript}\"</Text>\n            </View>\n          ) : null}\n        </View>\n        \n        <Text style={styles.orDivider}>ou escolha uma opo</Text>\n        \n        <ScrollView \n          style={styles.modalContent}\n          contentContainerStyle={styles.optionsContainer}\n          showsVerticalScrollIndicator={false}\n        >\n          {COMPANION_OPTIONS.map((option) => (\n            <Pressable\n              key={option.id}\n              style={({ pressed }) => [\n                styles.optionItem,\n                selectedOption?.id === option.id && styles.optionItemSelected,\n                pressed && styles.optionItemPressed,\n              ]}\n              onPress={() => {\n                onSelect(option);\n                onClose();\n              }}\n            >\n              <View style={styles.optionIcon}>\n                <Feather name={option.icon} size={20} color={Colors.dark.primary} />\n              </View>\n              <View style={styles.optionTextContainer}>\n                <Text style={styles.optionTitle}>{option.label}</Text>\n              </View>\n              {selectedOption?.id === option.id ? (\n                <Feather name=\"check\" size={20} color={Colors.dark.primary} />\n              ) : null}\n            </Pressable>\n          ))}\n        </ScrollView>\n      </View>\n    </Modal>\n  );\n}\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    backgroundColor: Colors.dark.backgroundRoot,\n  },\n  modalHeader: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    paddingHorizontal: Spacing.lg,\n    paddingVertical: Spacing.md,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.dark.backgroundSecondary,\n  },\n  closeButton: {\n    width: 40,\n    height: 40,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  modalTitle: {\n    fontSize: 18,\n    fontWeight: \"600\",\n    color: Colors.dark.text,\n  },\n  modalContent: {\n    flex: 1,\n  },\n  optionsContainer: {\n    padding: Spacing.lg,\n    gap: Spacing.sm,\n  },\n  optionItem: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    padding: Spacing.lg,\n    backgroundColor: Colors.dark.backgroundDefault,\n    borderRadius: BorderRadius.lg,\n    gap: Spacing.md,\n  },\n  optionItemSelected: {\n    backgroundColor: Colors.dark.primary + \"15\",\n    borderWidth: 1,\n    borderColor: Colors.dark.primary,\n  },\n  optionItemPressed: {\n    opacity: 0.8,\n  },\n  optionIcon: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    backgroundColor: Colors.dark.primary + \"20\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  optionTextContainer: {\n    flex: 1,\n  },\n  optionTitle: {\n    fontSize: 16,\n    fontWeight: \"500\",\n    color: Colors.dark.text,\n  },\n  optionSubtitle: {\n    fontSize: 14,\n    color: Colors.dark.textSecondary,\n    marginTop: 2,\n  },\n  voiceSection: {\n    alignItems: \"center\",\n    paddingVertical: Spacing.xl,\n    paddingHorizontal: Spacing.lg,\n    gap: Spacing.lg,\n  },\n  voiceHint: {\n    fontSize: 16,\n    color: Colors.dark.textSecondary,\n    textAlign: \"center\",\n  },\n  micButton: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    backgroundColor: Colors.dark.primary,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    ...Platform.select({\n      ios: {\n        shadowColor: Colors.dark.primary,\n        shadowOffset: { width: 0, height: 4 },\n        shadowOpacity: 0.3,\n        shadowRadius: 8,\n      },\n      android: {\n        elevation: 8,\n      },\n    }),\n  },\n  micButtonRecording: {\n    backgroundColor: Colors.dark.error,\n  },\n  micButtonTranscribing: {\n    backgroundColor: Colors.dark.secondary,\n    opacity: 0.8,\n  },\n  transcriptContainer: {\n    backgroundColor: Colors.dark.backgroundDefault,\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.lg,\n    width: \"100%\",\n    alignItems: \"center\",\n  },\n  transcriptLabel: {\n    fontSize: 14,\n    color: Colors.dark.textSecondary,\n    marginBottom: Spacing.xs,\n  },\n  transcriptText: {\n    fontSize: 16,\n    color: Colors.dark.text,\n    fontStyle: \"italic\",\n    textAlign: \"center\",\n  },\n  orDivider: {\n    fontSize: 14,\n    color: Colors.dark.textSecondary,\n    textAlign: \"center\",\n    paddingVertical: Spacing.md,\n  },\n});\n\nexport { CITIES, DATE_OPTIONS, COMPANION_OPTIONS };\n","path":null,"size_bytes":12874,"size_tokens":null},"client/contexts/TabBarContext.tsx":{"content":"import React, { createContext, useContext, ReactNode } from \"react\";\nimport { useSharedValue, SharedValue } from \"react-native-reanimated\";\n\ntype TabBarContextType = {\n  isTabBarVisible: SharedValue<boolean>;\n};\n\nconst TabBarContext = createContext<TabBarContextType | null>(null);\n\nexport function TabBarProvider({ children }: { children: ReactNode }) {\n  const isTabBarVisible = useSharedValue(true);\n\n  return (\n    <TabBarContext.Provider value={{ isTabBarVisible }}>\n      {children}\n    </TabBarContext.Provider>\n  );\n}\n\nexport function useTabBar() {\n  const context = useContext(TabBarContext);\n  if (!context) {\n    return {\n      isTabBarVisible: { value: true } as SharedValue<boolean>,\n    };\n  }\n  return context;\n}\n","path":null,"size_bytes":728,"size_tokens":null}},"version":2}